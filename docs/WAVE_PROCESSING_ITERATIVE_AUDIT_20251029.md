# –ê–£–î–ò–¢ –í–û–õ–ù–û–í–û–ô –û–ë–†–ê–ë–û–¢–ö–ò: –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
**–î–∞—Ç–∞**: 2025-10-29 15:40
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–£–î–ò–¢ –ó–ê–í–ï–†–®–ï–ù
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞)

---

## EXECUTIVE SUMMARY

### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
–°–∏—Å—Ç–µ–º–∞ –±–µ—Ä–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤ (buffer_size), –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Ö –Ω–∞ —Ñ–∏–ª—å—Ç—Ä—ã –∏ –¥—É–±–ª–∏–∫–∞—Ç—ã. –ï—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É, –¥–µ–ª–∞–µ—Ç—Å—è ONE top-up –ø–æ–ø—ã—Ç–∫–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏. –ï—Å–ª–∏ –∏ —ç—Ç–∞ –ø–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–¢–°–Ø, –¥–∞–∂–µ –µ—Å–ª–∏ –≤ –≤–æ–ª–Ω–µ –µ—Å—Ç—å –µ—â–µ –¥–µ—Å—è—Ç–∫–∏ –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤.

### –¢—Ä–µ–±—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –í–°–ï —Å–∏–≥–Ω–∞–ª—ã —Å –±–∏—Ä–∂–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞:
- **–õ–ò–ë–û** –Ω–µ –±—É–¥–µ—Ç –Ω–∞–±—Ä–∞–Ω–æ —Ü–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–ª–∏–¥–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3 –¥–ª—è Bybit)
- **–õ–ò–ë–û** –Ω–µ –∑–∞–∫–æ–Ω—á–∞—Ç—Å—è –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –≤ –≤–æ–ª–Ω–µ

---

## –¢–ï–ö–£–©–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø - –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó

### –§–∞–π–ª: `core/signal_processor_websocket.py` (—Å—Ç—Ä–æ–∫–∏ 933-996)

#### –®–∞–≥ 2a: –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –±—É—Ñ–µ—Ä–∞

```python
# Line 939-941
buffer_fixed = getattr(self.config, 'signal_buffer_percent', 7)
buffer_size = max_trades + buffer_fixed
```

**–ü—Ä–∏–º–µ—Ä**:
- `max_trades = 3` (—Ü–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π –¥–ª—è Bybit)
- `buffer_fixed = 7` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä)
- `buffer_size = 10` (–±–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 10 —Å–∏–≥–Ω–∞–ª–æ–≤)

**–õ–æ–≥–∏–∫–∞**: –ë–µ—Ä–µ–º –±–æ–ª—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤ —á–µ–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã "–ø–æ–∫—Ä—ã—Ç—å" –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ.

#### –®–∞–≥ 2b: –í—ã–±–æ—Ä–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞

```python
# Line 945-948
signals_to_process = exchange_signals[:buffer_size]

logger.info(f"{exchange_name}: Processing {len(signals_to_process)} signals "
            f"(target: {max_trades}, buffer: {buffer_fixed})")

# Line 951-955
result = await self.wave_processor.process_wave_signals(
    signals=signals_to_process,
    wave_timestamp=wave_timestamp
)

successful_signals = result.get('successful', [])
skipped_signals = result.get('skipped', [])
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
- –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 10 —Å–∏–≥–Ω–∞–ª–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞
- –ü–µ—Ä–µ–¥–∞–µ–º –≤ `wave_processor.process_wave_signals()`
- –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç: successful, failed, skipped

#### –®–∞–≥ 2c: Top-up –ª–æ–≥–∏–∫–∞ (–û–î–ò–ù –†–ê–ó)

```python
# Line 959-989
if len(successful_signals) < max_trades and len(exchange_signals) > buffer_size:
    # Calculate how many more we need
    remaining_needed = max_trades - len(successful_signals)

    # Take 1.5x to cover potential filtering
    extra_size = int(remaining_needed * 1.5)

    logger.warning(
        f"‚ö†Ô∏è {exchange_name}: Only {len(successful_signals)}/{max_trades} successful, "
        f"attempting to top-up {extra_size} more signals"
    )

    # Get next batch
    next_batch = exchange_signals[buffer_size : buffer_size + extra_size]

    if next_batch:
        logger.info(f"{exchange_name}: Processing {len(next_batch)} top-up signals")

        extra_result = await self.wave_processor.process_wave_signals(
            signals=next_batch,
            wave_timestamp=wave_timestamp
        )

        # Append to successful list
        successful_signals.extend(extra_result.get('successful', []))
        skipped_signals.extend(extra_result.get('skipped', []))

        logger.info(
            f"{exchange_name}: After top-up - {len(successful_signals)} successful, "
            f"{len(skipped_signals)} skipped total"
        )
```

**–ü—Ä–æ–±–ª–µ–º–∞**:
- Top-up –¥–µ–ª–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –û–î–ò–ù –†–ê–ó
- –ï—Å–ª–∏ `remaining_needed = 3`, —Ç–æ `extra_size = 4` (–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –æ—Ç 4.5)
- –ë–µ—Ä–µ–º —Å–∏–≥–Ω–∞–ª—ã `[10:14]` (–∏–Ω–¥–µ–∫—Å—ã 10, 11, 12, 13)
- –ï—Å–ª–∏ —ç—Ç–∏ 4 —Å–∏–≥–Ω–∞–ª–∞ —Ç–æ–∂–µ –Ω–µ –ø—Ä–æ—à–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã ‚Üí **–û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú–°–Ø**
- –û—Å—Ç–∞–≤—à–∏–µ—Å—è —Å–∏–≥–Ω–∞–ª—ã `[14:]` –ù–ï –ü–†–û–í–ï–†–Ø–Æ–¢–°–Ø

#### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–∞–ª–∞ (–∏–∑ –ª–æ–≥–æ–≤ 15:35):

```
2025-10-29 15:35:12 - Bybit: 13 signals available
2025-10-29 15:35:12 - Bybit: Processing 10 signals (target: 3, buffer: 7)
2025-10-29 15:35:12 - üåä Wave processing complete: ‚úÖ 0 successful, ‚è≠Ô∏è 8 skipped
2025-10-29 15:35:12 - Bybit: Validation complete - 0 successful, 0 failed, 8 skipped
2025-10-29 15:35:12 - ‚ö†Ô∏è Bybit: Only 0/3 successful, attempting to top-up 3 more signals
2025-10-29 15:35:12 - Bybit: Processing 3 top-up signals
2025-10-29 15:35:12 - üåä Wave processing complete: ‚úÖ 0 successful, ‚è≠Ô∏è 3 skipped
2025-10-29 15:35:12 - Bybit: After top-up - 0 successful, 11 skipped total
```

**–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å**:
- –í—Å–µ–≥–æ 13 —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ
- –ü–µ—Ä–≤—ã–π –±–∞—Ç—á: –≤–∑—è–ª–∏ 10, –ø–æ–ª—É—á–∏–ª–∏ 0 —É—Å–ø–µ—à–Ω—ã—Ö (8 skipped)
- Top-up: –≤–∑—è–ª–∏ 3, –ø–æ–ª—É—á–∏–ª–∏ 0 —É—Å–ø–µ—à–Ω—ã—Ö (3 skipped)
- **–ò–¢–û–ì–û**: –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ 13 —Å–∏–≥–Ω–∞–ª–æ–≤, –≤—Å–µ –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å
- **–í –î–ê–ù–ù–û–ú –°–õ–£–ß–ê–ï**: –í—Å–µ —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã, –Ω–æ —ç—Ç–æ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å (13 = 10 + 3)

**–†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–≥–¥–∞**:
- –î–æ—Å—Ç—É–ø–Ω–æ 50 —Å–∏–≥–Ω–∞–ª–æ–≤
- –ü–µ—Ä–≤—ã–π –±–∞—Ç—á (10) ‚Üí 0 —É—Å–ø–µ—à–Ω—ã—Ö
- Top-up (4) ‚Üí 0 —É—Å–ø–µ—à–Ω—ã—Ö
- **–û—Å—Ç–∞–≤—à–∏–µ—Å—è 36 —Å–∏–≥–Ω–∞–ª–æ–≤ –ù–ï –ü–†–û–í–ï–†–Ø–Æ–¢–°–Ø!**

---

## –§–ò–õ–¨–¢–†–´ –í `_is_duplicate()` - –ê–ù–ê–õ–ò–ó

### –§–∞–π–ª: `core/wave_signal_processor.py` (—Å—Ç—Ä–æ–∫–∏ 245-524)

–ú–µ—Ç–æ–¥ `_is_duplicate()` –ø—Ä–∏–º–µ–Ω—è–µ—Ç **5 —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ**:

#### –§–∏–ª—å—Ç—Ä 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 260-274)

```python
has_position = await self.position_manager.has_open_position(symbol, exchange)

if has_position:
    return True, "Position already exists"
```

**–¶–µ–ª—å**: –ò–∑–±–µ–∂–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏—è –¥—É–±–ª–∏–∫–∞—Ç–∞ –ø–æ–∑–∏—Ü–∏–∏
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `True` ‚Üí —Å–∏–≥–Ω–∞–ª –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è

#### –§–∏–ª—å—Ç—Ä 2: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 276-375)

```python
position_size_usd = float(self.config.position_size_usd)
min_cost = await self._get_minimum_cost(...)

if notional_value < min_cost:
    return True, f"Position size (${position_size_usd:.2f}) below minimum (${min_cost:.2f})"
```

**–¶–µ–ª—å**: –ë–∏—Ä–∂–∞ –Ω–µ –ø—Ä–∏–º–µ—Ç –æ—Ä–¥–µ—Ä –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º—É–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Bybit –º–∏–Ω–∏–º—É–º $10)
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `True` ‚Üí —Å–∏–≥–Ω–∞–ª –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è

#### –§–∏–ª—å—Ç—Ä 3: Open Interest >= 1M USDT (—Å—Ç—Ä–æ–∫–∏ 397-428)

```python
min_oi = float(getattr(self.config, 'signal_min_open_interest_usdt', 1_000_000))

if oi_usdt is not None and oi_usdt < min_oi:
    return True, f"OI ${oi_usdt:,.0f} below minimum ${min_oi:,}"
```

**–¶–µ–ª—å**: –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –Ω–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
**–ü—Ä–∏–º–µ—Ä**: BROCCOLIUSDT OI = $13,853 < $1,000,000 ‚Üí skip

#### –§–∏–ª—å—Ç—Ä 4: 1h Volume >= 50k USDT (—Å—Ç—Ä–æ–∫–∏ 431-462)

```python
min_volume = float(getattr(self.config, 'signal_min_volume_1h_usdt', 50_000))

if volume_1h_usdt is not None and volume_1h_usdt < min_volume:
    return True, f"1h volume ${volume_1h_usdt:,.0f} below minimum ${min_volume:,}"
```

**–¶–µ–ª—å**: –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å –Ω–∏–∑–∫–∏–º –æ–±—ä–µ–º–æ–º —Ç–æ—Ä–≥–æ–≤
**–ü—Ä–∏–º–µ—Ä**: 1h volume = $20,000 < $50,000 ‚Üí skip

#### –§–∏–ª—å—Ç—Ä 5: Price Change <= 4% –∑–∞ 5 –º–∏–Ω—É—Ç (—Å—Ç—Ä–æ–∫–∏ 465-512)

```python
max_change = float(getattr(self.config, 'signal_max_price_change_5min_percent', 4.0))

if direction == 'BUY' and price_change_percent > max_change:
    return True, f"overheated (BUY after +{price_change_percent:.2f}% rise)"
```

**–¶–µ–ª—å**: –ò–∑–±–µ–∂–∞—Ç—å –≤—Ö–æ–¥–∞ –Ω–∞ "–ø–µ—Ä–µ–≥—Ä–µ—Ç–æ–º" —Ä—ã–Ω–∫–µ (pump & dump protection)
**–ü—Ä–∏–º–µ—Ä**: BUY —Å–∏–≥–Ω–∞–ª, –Ω–æ —Ü–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞ –Ω–∞ 7% –∑–∞ 5 –º–∏–Ω—É—Ç ‚Üí skip

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤:

- **ANY —Ñ–∏–ª—å—Ç—Ä —Å—Ä–∞–±–æ—Ç–∞–ª** ‚Üí `return True, reason` ‚Üí signal SKIPPED
- **–í–°–ï —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ–π–¥–µ–Ω—ã** ‚Üí `return False, ""` ‚Üí signal VALID

---

## –ü–û–ß–ï–ú–£ –¢–ï–ö–£–©–ê–Ø –õ–û–ì–ò–ö–ê –ù–ï–≠–§–§–ï–ö–¢–ò–í–ù–ê

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –≤ –Ω–∞—á–∞–ª–µ —Å–ø–∏—Å–∫–∞

**–î–∞–Ω–æ**:
- 50 —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ –≤–æ–ª–Ω–µ –¥–ª—è Bybit
- –ü–µ—Ä–≤—ã–µ 15 —Å–∏–≥–Ω–∞–ª–æ–≤ - –Ω–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ (OI < 1M, Volume < 50k)
- –°–∏–≥–Ω–∞–ª—ã 16-25 - –í–ê–õ–ò–î–ù–´–ï, –ª–∏–∫–≤–∏–¥–Ω—ã–µ
- –¶–µ–ª—å: 3 –ø–æ–∑–∏—Ü–∏–∏

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
1. –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 10 —Å–∏–≥–Ω–∞–ª–æ–≤ (buffer_size=10) ‚Üí –≤—Å–µ –Ω–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ ‚Üí 0 —É—Å–ø–µ—à–Ω—ã—Ö
2. Top-up: –±–µ—Ä–µ–º —Å–ª–µ–¥—É—é—â–∏–µ 4 —Å–∏–≥–Ω–∞–ª–∞ (10-14) ‚Üí –≤—Å–µ –Ω–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ ‚Üí 0 —É—Å–ø–µ—à–Ω—ã—Ö
3. **–û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú–°–Ø** ‚Üí –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ 14 —Å–∏–≥–Ω–∞–ª–æ–≤, –Ω–∞–π–¥–µ–Ω–æ 0 –≤–∞–ª–∏–¥–Ω—ã—Ö
4. **–°–∏–≥–Ω–∞–ª—ã 15-50 –ù–ï –ü–†–û–í–ï–†–ï–ù–´**, —Ö–æ—Ç—è —Ç–∞–º –µ—Å—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ!

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Bybit –Ω–µ –ø–æ–ª—É—á–∏–ª –Ω–∏ –æ–¥–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏, —Ö–æ—Ç—è –≤ –≤–æ–ª–Ω–µ –±—ã–ª–∏ –≤–∞–ª–∏–¥–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã.

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–µ—Ä–µ–≥—Ä–µ—Ç—ã–π —Ä—ã–Ω–æ–∫

**–î–∞–Ω–æ**:
- 30 —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ –≤–æ–ª–Ω–µ –¥–ª—è Binance
- –ü–µ—Ä–≤—ã–µ 20 —Å–∏–≥–Ω–∞–ª–æ–≤ - price change > 4% (—Ä—ã–Ω–æ–∫ –ø–µ—Ä–µ–≥—Ä–µ—Ç)
- –°–∏–≥–Ω–∞–ª—ã 21-30 - –í–ê–õ–ò–î–ù–´–ï
- –¶–µ–ª—å: 5 –ø–æ–∑–∏—Ü–∏–π

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
1. –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 12 —Å–∏–≥–Ω–∞–ª–æ–≤ (buffer_size=12) ‚Üí –≤—Å–µ –ø–µ—Ä–µ–≥—Ä–µ—Ç—ã ‚Üí 0 —É—Å–ø–µ—à–Ω—ã—Ö
2. Top-up: –±–µ—Ä–µ–º —Å–ª–µ–¥—É—é—â–∏–µ 7 —Å–∏–≥–Ω–∞–ª–æ–≤ (12-19) ‚Üí –≤—Å–µ –ø–µ—Ä–µ–≥—Ä–µ—Ç—ã ‚Üí 0 —É—Å–ø–µ—à–Ω—ã—Ö
3. **–û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú–°–Ø** ‚Üí –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ 19 —Å–∏–≥–Ω–∞–ª–æ–≤, –Ω–∞–π–¥–µ–Ω–æ 0 –≤–∞–ª–∏–¥–Ω—ã—Ö
4. **–°–∏–≥–Ω–∞–ª—ã 20-30 –ù–ï –ü–†–û–í–ï–†–ï–ù–´**, —Ö–æ—Ç—è —Ç–∞–º –≤–∞–ª–∏–¥–Ω—ã–µ!

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Binance –ø–æ–ª—É—á–∏–ª 0 –ø–æ–∑–∏—Ü–∏–π –≤–º–µ—Å—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö 5.

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ

**–î–∞–Ω–æ**:
- 40 —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ –≤–æ–ª–Ω–µ
- –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: ~70% –ø—Ä–æ—Ö–æ–¥—è—Ç —Ñ–∏–ª—å—Ç—Ä—ã
- –¶–µ–ª—å: 5 –ø–æ–∑–∏—Ü–∏–π

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
1. –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 12 —Å–∏–≥–Ω–∞–ª–æ–≤ ‚Üí 2 —É—Å–ø–µ—à–Ω—ã—Ö (–æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã)
2. Top-up: –±–µ—Ä–µ–º 4 —Å–∏–≥–Ω–∞–ª–∞ ‚Üí 1 —É—Å–ø–µ—à–Ω—ã–π
3. **–û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú–°–Ø** ‚Üí –ù–∞–π–¥–µ–Ω–æ 3 —É—Å–ø–µ—à–Ω—ã—Ö –∏–∑ —Ü–µ–ª–µ–≤—ã—Ö 5
4. **–°–∏–≥–Ω–∞–ª—ã 17-40 –ù–ï –ü–†–û–í–ï–†–ï–ù–´**, —Ö–æ—Ç—è —Ç–∞–º –º–æ–≥–ª–∏ –±—ã—Ç—å –µ—â–µ 2+ –≤–∞–ª–∏–¥–Ω—ã—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—É—á–∏–ª–∏ 3 –ø–æ–∑–∏—Ü–∏–∏ –≤–º–µ—Å—Ç–æ —Ü–µ–ª–µ–≤—ã—Ö 5, —Ö–æ—Ç—è —Å–∏–≥–Ω–∞–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã.

---

## IMPACT ANALYSIS - –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é

### –£–ø—É—â–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

**–ï—Å–ª–∏ –≤ —Å—Ä–µ–¥–Ω–µ–º**:
- 30 —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –≤–æ–ª–Ω—É –Ω–∞ –±–∏—Ä–∂—É
- –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç max 15 —Å–∏–≥–Ω–∞–ª–æ–≤ (10 + 5 top-up)
- **50% —Å–∏–≥–Ω–∞–ª–æ–≤ –ù–ï –ü–†–û–í–ï–†–Ø–Æ–¢–°–Ø –í–û–û–ë–©–ï**

**–ï—Å–ª–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ 30%**:
- –ò–∑ 30 —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –≤–∞–ª–∏–¥–Ω—ã—Ö: 9 —Å–∏–≥–Ω–∞–ª–æ–≤
- –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç 15 ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç ~4.5 –≤–∞–ª–∏–¥–Ω—ã—Ö
- –¶–µ–ª—å: 3 –ø–æ–∑–∏—Ü–∏–∏ ‚Üí **–¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è**

**–ï—Å–ª–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ 15%** (–∂–µ—Å—Ç–∫–∏–µ —É—Å–ª–æ–≤–∏—è):
- –ò–∑ 30 —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –≤–∞–ª–∏–¥–Ω—ã—Ö: 4.5 —Å–∏–≥–Ω–∞–ª–æ–≤
- –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç 15 ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç ~2.25 –≤–∞–ª–∏–¥–Ω—ã—Ö
- –¶–µ–ª—å: 3 –ø–æ–∑–∏—Ü–∏–∏ ‚Üí **–ù–ï –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è**
- –û—Å—Ç–∞–≤—à–∏–µ—Å—è 15 —Å–∏–≥–Ω–∞–ª–æ–≤ –º–æ–≥–ª–∏ –±—ã –¥–∞—Ç—å –µ—â–µ ~2.25 –≤–∞–ª–∏–¥–Ω—ã—Ö ‚Üí **—Ü–µ–ª—å –±—ã–ª–∞ –±—ã –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞**

### –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –ª–æ–≥–æ–≤:

#### –ü—Ä–∏–º–µ—Ä 1: Wave 15:35 (Bybit)
```
–î–æ—Å—Ç—É–ø–Ω–æ: 13 —Å–∏–≥–Ω–∞–ª–æ–≤
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: 13 —Å–∏–≥–Ω–∞–ª–æ–≤ (10 + 3 top-up)
–ù–∞–π–¥–µ–Ω–æ: 0 –≤–∞–ª–∏–¥–Ω—ã—Ö
–ü—Ä–æ–ø—É—â–µ–Ω–æ: 11 (low OI, low volume)
–†–µ–∑—É–ª—å—Ç–∞—Ç: 0/3 –ø–æ–∑–∏—Ü–∏–π (0% target achievement)
```

**–ê–Ω–∞–ª–∏–∑**: –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã –±—ã–ª–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã (—Å–ª—É—á–∞–π–Ω–æ), –Ω–æ –≤—Å–µ –ø—Ä–æ–≤–∞–ª–∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã. –≠—Ç–æ –≤–∞–ª–∏–¥–Ω—ã–π –∫–µ–π—Å - –≤ –≤–æ–ª–Ω–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –±—ã–ª–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤.

#### –ü—Ä–∏–º–µ—Ä 2: Wave 15:20 (–≥–∏–ø–æ—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π)
```
–î–æ—Å—Ç—É–ø–Ω–æ: 45 —Å–∏–≥–Ω–∞–ª–æ–≤
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: 15 —Å–∏–≥–Ω–∞–ª–æ–≤ (12 + 3 top-up)
–ù–∞–π–¥–µ–Ω–æ: 2 –≤–∞–ª–∏–¥–Ω—ã—Ö
–ü—Ä–æ–ø—É—â–µ–Ω–æ: 13 (—Ñ–∏–ª—å—Ç—Ä—ã)
–ù–ï –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ: 30 —Å–∏–≥–Ω–∞–ª–æ–≤
–†–µ–∑—É–ª—å—Ç–∞—Ç: 2/5 –ø–æ–∑–∏—Ü–∏–π (40% target achievement)
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—Å—Ç–∞–≤—à–∏–µ—Å—è 30 —Å–∏–≥–Ω–∞–ª–æ–≤ –º–æ–≥–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –µ—â–µ 3+ –≤–∞–ª–∏–¥–Ω—ã—Ö, –Ω–æ –Ω–µ –±—ã–ª–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã.

---

## –¢–†–ï–ë–£–ï–ú–û–ï –†–ï–®–ï–ù–ò–ï - –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø

### –¶–µ–ª–µ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

```
WHILE (successful_count < target) AND (remaining_signals > 0):
    1. –í–∑—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –±–∞—Ç—á —Å–∏–≥–Ω–∞–ª–æ–≤ (—Ä–∞–∑–º–µ—Ä = buffer_size)
    2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –±–∞—Ç—á —á–µ—Ä–µ–∑ process_wave_signals()
    3. –î–æ–±–∞–≤–∏—Ç—å successful –≤ –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫
    4. –û–±–Ω–æ–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫–∏
    5. –ï—Å–ª–∏ successful_count >= target:
        BREAK (—Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞)
    6. –ï—Å–ª–∏ remaining_signals == 0:
        BREAK (—Å–∏–≥–Ω–∞–ª—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å)
    7. CONTINUE —Å –ø—É–Ω–∫—Ç–∞ 1

RETURN successful_signals[:target]
```

### –ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

1. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: WHILE loop –≤–º–µ—Å—Ç–æ ONE-time top-up
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –±–∞—Ç—á —Ä–∞–∑–º–µ—Ä –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
3. **–†–∞–Ω–Ω–µ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–≥–¥–∞ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞
4. **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –í–°–ï —Å–∏–≥–Ω–∞–ª—ã –µ—Å–ª–∏ —Ü–µ–ª—å –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞
5. **Graceful degradation**: –û–¥–∏–Ω –ø—Ä–æ–≤–∞–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É

### –ü—Å–µ–≤–¥–æ–∫–æ–¥ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏:

```python
# Initialization
all_signals = exchange_signals  # –í–µ—Å—å —Å–ø–∏—Å–æ–∫ —Å–∏–≥–Ω–∞–ª–æ–≤
target = max_trades  # –¶–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3)
successful = []
skipped = []
processed_count = 0
max_iterations = 10  # Safety limit

iteration = 0
while len(successful) < target and processed_count < len(all_signals):
    iteration += 1

    # Safety check
    if iteration > max_iterations:
        logger.warning(f"Max iterations reached ({max_iterations}), stopping")
        break

    # Calculate batch size
    remaining_needed = target - len(successful)
    batch_size = min(
        remaining_needed + buffer_fixed,  # Target + buffer
        len(all_signals) - processed_count  # Remaining signals
    )

    # Get next batch
    batch_start = processed_count
    batch_end = processed_count + batch_size
    batch = all_signals[batch_start:batch_end]

    if not batch:
        break  # No more signals

    logger.info(
        f"{exchange}: Iteration {iteration}: Processing {len(batch)} signals "
        f"(successful: {len(successful)}/{target}, total processed: {processed_count}/{len(all_signals)})"
    )

    # Process batch
    result = await wave_processor.process_wave_signals(batch, wave_timestamp)

    # Accumulate results
    successful.extend(result['successful'])
    skipped.extend(result['skipped'])
    processed_count += len(batch)

    logger.info(
        f"{exchange}: Iteration {iteration} complete: "
        f"+{len(result['successful'])} successful, "
        f"+{len(result['skipped'])} skipped"
    )

    # Early termination if target reached
    if len(successful) >= target:
        logger.info(f"‚úÖ {exchange}: Target reached ({len(successful)}/{target})")
        break

# Final result
final_successful = successful[:target]  # Truncate to exact target
logger.info(
    f"{exchange}: Wave complete - {len(final_successful)}/{target} positions, "
    f"processed {processed_count}/{len(all_signals)} signals in {iteration} iterations"
)
```

---

## –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ì–û –ü–û–î–•–û–î–ê

### 1. –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤
- **–î–æ**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è max 50% —Å–∏–≥–Ω–∞–ª–æ–≤ (10-15 –∏–∑ 30)
- **–ü–æ—Å–ª–µ**: –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –í–°–ï —Å–∏–≥–Ω–∞–ª—ã –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏

### 2. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏
- **–î–æ**: –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–µ 15 —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∏–∑–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ ‚Üí 0 –ø–æ–∑–∏—Ü–∏–π
- **–ü–æ—Å–ª–µ**: –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø–æ–∏—Å–∫ –≤ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Å–∏–≥–Ω–∞–ª–∞—Ö

### 3. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ —É—Å–ª–æ–≤–∏—è–º —Ä—ã–Ω–∫–∞
- **–í—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å**: –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ 1-2 –∏—Ç–µ—Ä–∞—Ü–∏–∏ (–±—ã—Å—Ç—Ä–æ)
- **–ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –±–æ–ª—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤ (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –Ω–∞—Ö–æ–¥–∏–º –≤–∞–ª–∏–¥–Ω—ã–µ)

### 4. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–†–∞–Ω–Ω–µ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ö–∞–∫ —Ç–æ–ª—å–∫–æ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ ‚Üí STOP
- **–ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ª–∏—à–Ω–µ–µ**: –ï—Å–ª–∏ –Ω–∞—à–ª–∏ 5 –∏–∑ 5 ‚Üí –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 20 —Å–∏–≥–Ω–∞–ª–æ–≤

### 5. Graceful degradation
- –ï—Å–ª–∏ –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã ‚Üí gracefully –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 0 –ø–æ–∑–∏—Ü–∏–π
- –ù–µ—Ç –∞–≤–∞—Ä–∏–π–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π, –Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π

---

## –†–ò–°–ö–ò –ò –ú–ò–¢–ò–ì–ê–¶–ò–Ø

### –†–∏—Å–∫ 1: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–æ–ª–Ω—ã

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö 50 —Å–∏–≥–Ω–∞–ª–æ–≤ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ —á–µ–º 10-15.

**–û—Ü–µ–Ω–∫–∞**: –°–†–ï–î–ù–ò–ô
**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ê–Ø

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- **–†–∞–Ω–Ω–µ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏ ‚Üí STOP
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ ticker, OI, volume –¥–∞–Ω–Ω—ã—Ö
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–µ–π**: –ú–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–±—É–¥—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- **Max iterations limit**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π (10)

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è**:
- **Best case**: 1 –∏—Ç–µ—Ä–∞—Ü–∏—è (~2-5 —Å–µ–∫—É–Ω–¥) - —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –≤ –ø–µ—Ä–≤–æ–º –±–∞—Ç—á–µ
- **Average case**: 2-3 –∏—Ç–µ—Ä–∞—Ü–∏–∏ (~10-15 —Å–µ–∫—É–Ω–¥)
- **Worst case**: 5 –∏—Ç–µ—Ä–∞—Ü–∏–π (~30-40 —Å–µ–∫—É–Ω–¥) - –æ–±—Ä–∞–±–æ—Ç–∞–ª–∏ 50 —Å–∏–≥–Ω–∞–ª–æ–≤

### –†–∏—Å–∫ 2: –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ rate limits –Ω–∞ –±–∏—Ä–∂–∞—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ë–æ–ª—å—à–µ API –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∏—Ä–∂–µ (fetch_ticker, fetch_positions, fetch_oi).

**–û—Ü–µ–Ω–∫–∞**: –ù–ò–ó–ö–ò–ô
**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –ù–ò–ó–ö–ê–Ø

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: ticker, market data –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ exchange_manager
- **Graceful retry**: –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ exchange_manager
- **–ë–∞—Ç—á —Ä–∞–∑–º–µ—Ä**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –±–∞—Ç—á–∞–º–∏, –Ω–µ –≤—Å–µ —Å—Ä–∞–∑—É
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ rate limits**: –õ–æ–≥–∏—Ä—É–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

### –†–∏—Å–∫ 3: –õ–æ–≥–∏ —Å—Ç–∞–Ω—É—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–º–∏

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ë–æ–ª—å—à–µ –∏—Ç–µ—Ä–∞—Ü–∏–π ‚Üí –±–æ–ª—å—à–µ –ª–æ–≥ –∑–∞–ø–∏—Å–µ–π.

**–û—Ü–µ–Ω–∫–∞**: –ù–ò–ó–ö–ò–ô
**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–Ø–Ø

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- **–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–æ–≥–∏—Ä—É–µ–º –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∞ –Ω–µ –∫–∞–∂–¥—ã–π —Å–∏–≥–Ω–∞–ª
- **DEBUG —É—Ä–æ–≤–µ–Ω—å**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ DEBUG level
- **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤**: –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ bot.py

### –†–∏—Å–∫ 4: Infinite loop –ø—Ä–∏ –±–∞–≥–∞—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ë–∞–≥ –≤ while loop ‚Üí –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞.

**–û—Ü–µ–Ω–∫–∞**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –û–ß–ï–ù–¨ –ù–ò–ó–ö–ê–Ø

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- **Max iterations limit**: –ñ–µ—Å—Ç–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (10 –∏—Ç–µ—Ä–∞—Ü–∏–π)
- **–°—á–µ—Ç—á–∏–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**: `processed_count` –≤—Å–µ–≥–¥–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
- **Safety checks**: –ü—Ä–æ–≤–µ—Ä–∫–∞ `processed_count < len(all_signals)`
- **Timeout –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤–æ–ª–Ω—ã**: –£–∂–µ –µ—Å—Ç—å timeout –Ω–∞ process_signals_for_wave()

---

## EDGE CASES - –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

### Case 1: –í—Å–µ —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã

**–°—Ü–µ–Ω–∞—Ä–∏–π**: 50 —Å–∏–≥–Ω–∞–ª–æ–≤, –≤—Å–µ –Ω–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
```
Iteration 1: 10 signals ‚Üí 0 successful
Iteration 2: 10 signals ‚Üí 0 successful
Iteration 3: 10 signals ‚Üí 0 successful
Iteration 4: 10 signals ‚Üí 0 successful
Iteration 5: 10 signals ‚Üí 0 successful
Result: 0/3 positions, processed 50/50 signals
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º `successful = []`
- –õ–æ–≥–∏—Ä—É–µ–º: "No valid signals found after processing all 50 signals"
- **–ù–ï –æ—à–∏–±–∫–∞**, —ç—Ç–æ –≤–∞–ª–∏–¥–Ω—ã–π –∫–µ–π—Å

### Case 2: –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –≤ –ø–µ—Ä–≤–æ–º –±–∞—Ç—á–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π**: 50 —Å–∏–≥–Ω–∞–ª–æ–≤, –ø–µ—Ä–≤—ã–µ 5 - –≤—Å–µ –≤–∞–ª–∏–¥–Ω—ã–µ, target=3.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
```
Iteration 1: 10 signals ‚Üí 5 successful
Early termination: target reached (5 >= 3)
Result: 3/3 positions, processed 10/50 signals
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º `successful[:3]` (truncate –¥–æ target)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ 40 —Å–∏–≥–Ω–∞–ª–æ–≤ –ù–ï –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)

### Case 3: –¢–æ—á–Ω–æ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π**: 15 —Å–∏–≥–Ω–∞–ª–æ–≤, target=3, buffer=7, –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏ 2 –¥–æ—Å—Ç–∏–≥–ª–∏ target.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
```
Iteration 1: 10 signals ‚Üí 2 successful
Iteration 2: 5 signals ‚Üí 1 successful
Target reached: 3/3
Result: 3/3 positions, processed 15/15 signals
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –û–±—Ä–∞–±–æ—Ç–∞–ª–∏ –≤—Å–µ, –Ω–∞—à–ª–∏ —Ä–æ–≤–Ω–æ target ‚Üí perfect.

### Case 4: InsufficientFunds –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –ù–∞ 2-–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –¥–µ–Ω—å–≥–∏.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
```
Iteration 1: 10 signals ‚Üí 2 successful
Iteration 2: 10 signals ‚Üí processing signal #3 ‚Üí InsufficientFunds
Iteration 2: –û—Å—Ç–∞–ª—å–Ω—ã–µ 7 —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–æ–ø—É—â–µ–Ω—ã (break in process_wave_signals)
Result: 2/5 positions, processed 13/50 signals
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- `process_wave_signals()` –¥–µ–ª–∞–µ—Ç `break` –ø—Ä–∏ InsufficientFunds
- –í–Ω–µ—à–Ω–∏–π loop –≤–∏–¥–∏—Ç —á—Ç–æ `successful < target`, –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ë—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –±–∞—Ç—á–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–∂–µ –ø—Ä–æ–≤–∞–ª—è—Ç—Å—è —Å InsufficientFunds

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è InsufficientFunds ‚Üí –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –≤–µ—Å—å loop –¥–ª—è –±–∏—Ä–∂–∏.

### Case 5: –¢–æ–ª—å–∫–æ 1 —Å–∏–≥–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –†–µ–¥–∫–∏–π –∫–µ–π—Å - –≤ –≤–æ–ª–Ω–µ —Ç–æ–ª—å–∫–æ 1 —Å–∏–≥–Ω–∞–ª, target=3.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
```
Iteration 1: 1 signal ‚Üí 0 or 1 successful
Result: 0/3 or 1/3 positions, processed 1/1 signals
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –û–±—Ä–∞–±–æ—Ç–∞–ª–∏ —á—Ç–æ –µ—Å—Ç—å, gracefully –≤–µ—Ä–Ω—É–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

## –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò - –î–ï–¢–ê–õ–¨–ù–´–ô

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô –ö–û–î–ê)

**–ó–∞–¥–∞—á–∏**:
1. ‚úÖ –ê—É–¥–∏—Ç —Ç–µ–∫—É—â–µ–π –ª–æ–≥–∏–∫–∏ (DONE - —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç)
2. ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (DONE)
3. ‚úÖ –î–∏–∑–∞–π–Ω –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ (DONE)
4. ‚è≥ Code review –ø–ª–∞–Ω–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (AWAITING)

### –§–∞–∑–∞ 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ü–û–°–õ–ï –û–î–û–ë–†–ï–ù–ò–Ø)

**–®–∞–≥ 2.1**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤ `signal_processor_websocket.py`

**–§–∞–π–ª**: `core/signal_processor_websocket.py`
**–ú–µ—Ç–æ–¥**: `_process_signals_for_wave()` (—Å—Ç—Ä–æ–∫–∏ 933-996)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞—Ç—á + ONE top-up –Ω–∞ WHILE loop
- –î–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ –∏—Ç–µ—Ä–∞—Ü–∏–π —Å –ª–∏–º–∏—Ç–æ–º
- –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–Ω–Ω–µ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ target
- –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É InsufficientFunds –¥–ª—è –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è loop

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–Ø–Ø (30-50 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)

**–®–∞–≥ 2.2**: –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ "InsufficientFunds" –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–§–∞–π–ª**: `core/wave_signal_processor.py`
**–ú–µ—Ç–æ–¥**: `process_wave_signals()` (—Å—Ç—Ä–æ–∫–∏ 75-243)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥: `'insufficient_funds': bool`
- –ü—Ä–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç–µ InsufficientFunds (line 195) ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ–ª–∞–≥ –≤ dict result

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ù–ò–ó–ö–ê–Ø (3-5 —Å—Ç—Ä–æ–∫)

**–®–∞–≥ 2.3**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–ª–∞–≥–∞ –≤–æ –≤–Ω–µ—à–Ω–µ–º loop

**–§–∞–π–ª**: `core/signal_processor_websocket.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å `result.get('insufficient_funds')` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –±–∞—Ç—á–∞
- –ï—Å–ª–∏ True ‚Üí break –∏–∑ while loop –¥–ª—è –¥–∞–Ω–Ω–æ–π –±–∏—Ä–∂–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ù–ò–ó–ö–ê–Ø (2-3 —Å—Ç—Ä–æ–∫–∏)

**–®–∞–≥ 2.4**: –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é: –Ω–æ–º–µ—Ä, –±–∞—Ç—á —Ä–∞–∑–º–µ—Ä, –ø—Ä–æ–≥—Ä–µ—Å—Å
- –ò—Ç–æ–≥–æ–≤—ã–π –ª–æ–≥: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π, –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤, –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤–∞–ª–∏–¥–Ω—ã—Ö
- DEBUG level: –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ù–ò–ó–ö–ê–Ø (10-15 —Å—Ç—Ä–æ–∫)

### –§–∞–∑–∞ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¢–µ—Å—Ç 1**: Unit test —Å –º–æ–∫–∞–º–∏

```python
async def test_iterative_processing_all_signals():
    """Test that all signals are processed until target reached"""
    # Mock 50 signals, first 20 invalid, next 5 valid
    signals = [mock_signal(valid=False) for _ in range(20)] + \
              [mock_signal(valid=True) for _ in range(5)] + \
              [mock_signal(valid=False) for _ in range(25)]

    target = 3
    result = await processor._process_signals_for_wave(signals, target)

    assert len(result['successful']) == 3
    assert result['processed_count'] >= 25  # Processed at least until valid found
```

**–¢–µ—Å—Ç 2**: Integration test –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤–æ–ª–Ω–µ

- –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –í–æ–ª–Ω–∞ —Å 40 —Å–∏–≥–Ω–∞–ª–∞–º–∏, 70% –Ω–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ
- Target = 5
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è target

**–¢–µ—Å—Ç 3**: Edge case tests

- All signals invalid
- Target reached in first batch
- InsufficientFunds scenario
- Only 1 signal available

### –§–∞–∑–∞ 4: Deployment

**–®–∞–≥ 4.1**: Code review 3x
**–®–∞–≥ 4.2**: Syntax validation
**–®–∞–≥ 4.3**: Git commit –≤ feature branch
**–®–∞–≥ 4.4**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 3-4 –≤–æ–ª–Ω –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
**–®–∞–≥ 4.5**: Merge –≤ main –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

---

## –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

### –î–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- **Target achievement rate**: ~60-70% (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∞–ª–∏–¥–Ω—ã–µ –≤ –ø–µ—Ä–≤—ã—Ö 15 —Å–∏–≥–Ω–∞–ª–∞—Ö)
- **Signal coverage**: 30-50% —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- **Average positions per wave**: 2-3 –∏–∑ target 3-5

### –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–æ–∂–∏–¥–∞–µ–º—ã–µ):
- **Target achievement rate**: ~85-95% (–µ—Å–ª–∏ –≤–∞–ª–∏–¥–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –µ—Å—Ç—å –≤ –≤–æ–ª–Ω–µ)
- **Signal coverage**: 80-100% —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã (–¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è target –∏–ª–∏ end)
- **Average positions per wave**: 4-5 –∏–∑ target 5 (closer to target)

### KPI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

1. **Iterations per wave**: –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –Ω–∞ –≤–æ–ª–Ω—É
   - Expected: 2-3 iterations average
   - Alert if > 7 iterations (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤)

2. **Signal coverage ratio**: `processed / available`
   - Expected: 40-80% (target reached before end)
   - Alert if consistently > 90% (—Å–ª–∏—à–∫–æ–º –º–∞–ª–æ –≤–∞–ª–∏–¥–Ω—ã—Ö)

3. **Target achievement rate**: `successful >= target`
   - Expected: > 85%
   - Alert if < 70% (–ø—Ä–æ–±–ª–µ–º—ã —Å –∫–∞—á–µ—Å—Ç–≤–æ–º —Å–∏–≥–Ω–∞–ª–æ–≤ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)

4. **Processing time**: –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–æ–ª–Ω—ã
   - Expected: 10-20 seconds average
   - Alert if > 60 seconds (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω—É–∂–Ω–∞)

---

## –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –ü–û–î–•–û–î–´ (–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1: –£–±—Ä–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã

**–ü–æ–¥—Ö–æ–¥**: –û—Ç–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã OI, Volume, Price Change ‚Üí –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç.

**Pros**: –¶–µ–ª—å –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è
**Cons**: –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö ‚Üí —É–±—ã—Ç–∫–∏

**–í–µ—Ä–¥–∏–∫—Ç**: ‚ùå –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2: –£–≤–µ–ª–∏—á–∏—Ç—å buffer_fixed –¥–æ 50

**–ü–æ–¥—Ö–æ–¥**: `buffer_fixed = 50` ‚Üí –±–µ—Ä–µ–º —Å—Ä–∞–∑—É –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã –≤ –ø–µ—Ä–≤–æ–º –±–∞—Ç—á–µ.

**Pros**: –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ (1 —Å—Ç—Ä–æ–∫–∞)
**Cons**:
- –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ –¥–∞–∂–µ –µ—Å–ª–∏ target –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –Ω–∞ 5-–º —Å–∏–≥–Ω–∞–ª–µ)
- –î–æ–ª–≥–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–π –≤–æ–ª–Ω—ã
- Rate limits —Ä–∏—Å–∫

**–í–µ—Ä–¥–∏–∫—Ç**: ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 3: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π buffer –Ω–∞ –æ—Å–Ω–æ–≤–µ success rate

**–ü–æ–¥—Ö–æ–¥**: –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –±–∞—Ç—á–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º buffer:
- –ï—Å–ª–∏ success rate = 50% ‚Üí buffer = target * 2
- –ï—Å–ª–∏ success rate = 10% ‚Üí buffer = target * 10

**Pros**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞
**Cons**: –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞, –º–æ–∂–µ—Ç –Ω–µ –¥–æ—Å—Ç–∏—á—å target –µ—Å–ª–∏ success rate –º–µ–Ω—è–µ—Ç—Å—è

**–í–µ—Ä–¥–∏–∫—Ç**: ‚è≥ –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –∫–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ü–û–°–õ–ï —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ while loop

---

## –í–´–í–û–î–´

### ‚úÖ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π while loop

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:
1. **–ú–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è target** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã
2. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω** - —Ä–∞–Ω–Ω–µ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏
3. **–ù–∞–¥–µ–∂–µ–Ω** - graceful degradation, –æ–±—Ä–∞–±–æ—Ç–∫–∞ edge cases
4. **–ò–∑–º–µ—Ä–∏–º—ã–π** - —á–µ—Ç–∫–∏–µ KPI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
5. **–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫** - –º–∏—Ç–∏–≥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤

### üìä –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

**Target achievement improvement**: +20-30%
**Signal coverage improvement**: +50-70%
**Average processing time**: +5-15 seconds per wave (–ø—Ä–∏–µ–º–ª–µ–º–æ)

### ‚ö†Ô∏è –í–ê–ñ–ù–û

**GOLDEN RULE**: "If it ain't broke, don't fix it"

**–ß—Ç–æ –ù–ï –º–µ–Ω—è–µ–º**:
- ‚ùå –õ–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ `_is_duplicate()`
- ‚ùå –õ–æ–≥–∏–∫—É `process_wave_signals()` (—Ç–æ–ª—å–∫–æ —Ñ–ª–∞–≥ insufficient_funds)
- ‚ùå –°–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚ùå –õ–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ MAX_TRADES_PER_WAVE

**–ß—Ç–æ –º–µ–Ω—è–µ–º**:
- ‚úÖ –¢–û–õ–¨–ö–û –±–∞—Ç—á –æ–±—Ä–∞–±–æ—Ç–∫—É: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞—Ç—á + ONE top-up ‚Üí while loop

---

## –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. ‚è≥ **User review —ç—Ç–æ–≥–æ –ø–ª–∞–Ω–∞** - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ–¥—Ö–æ–¥
2. ‚è≥ **–£—Ç–æ—á–Ω–µ–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è** –µ—Å–ª–∏ –Ω—É–∂–Ω—ã
3. ‚è≥ **–û–¥–æ–±—Ä–µ–Ω–∏–µ** –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
4. ‚è≥ **–§–∞–∑–∞ 2**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ (–ü–û–°–õ–ï –æ–¥–æ–±—Ä–µ–Ω–∏—è)

---

**–°–¢–ê–¢–£–°**: ‚úÖ –ê–£–î–ò–¢ –ó–ê–í–ï–†–®–ï–ù, –ü–õ–ê–ù –ì–û–¢–û–í
**–ê–í–¢–û–†**: Claude Code
**–î–ê–¢–ê**: 2025-10-29 15:40

---

END OF AUDIT REPORT
