core/position_manager.py:160: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
core/position_manager.py:224: error: Need type annotation for "pending_updates" (hint: "pending_updates: dict[<type>, <type>] = ...")  [var-annotated]
core/position_manager.py:250: error: Need type annotation for "positions_without_sl_time" (hint: "positions_without_sl_time: dict[<type>, <type>] = ...")  [var-annotated]
core/position_manager.py:253: error: Need type annotation for "protected_order_ids" (hint: "protected_order_ids: set[<type>] = ...")  [var-annotated]
core/position_manager.py:339: error: Argument 1 to "normalize_symbol" has incompatible type "Any | None"; expected "str"  [arg-type]
core/position_manager.py:786: error: Argument "realized_pnl" to "on_position_closed" of "SmartTrailingStopManager" has incompatible type "None"; expected "float"  [arg-type]
core/position_manager.py:821: error: Argument "stop_loss_price" to "PositionState" has incompatible type "Decimal | None"; expected "float | None"  [arg-type]
core/position_manager.py:821: error: Argument 1 to "to_decimal" has incompatible type "Any | None"; expected "str | int | float | Decimal"  [arg-type]
core/position_manager.py:856: error: Argument 3 to "_set_stop_loss" of "PositionManager" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:858: error: Incompatible types in assignment (expression has type "Decimal", variable has type "float | None")  [assignment]
core/position_manager.py:903: error: Argument "initial_stop" to "create_trailing_stop" of "SmartTrailingStopManager" has incompatible type "Decimal"; expected "float | None"  [arg-type]
core/position_manager.py:940: error: Argument 3 to "_set_stop_loss" of "PositionManager" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:942: error: Incompatible types in assignment (expression has type "Decimal", variable has type "float | None")  [assignment]
core/position_manager.py:1086: error: Argument 3 to "_calculate_position_size" of "PositionManager" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1086: error: Argument 4 to "_calculate_position_size" of "PositionManager" has incompatible type "float | Decimal"; expected "float"  [arg-type]
core/position_manager.py:1171: error: Incompatible types in assignment (expression has type "float | Decimal", variable has type "float")  [assignment]
core/position_manager.py:1179: error: Incompatible types in assignment (expression has type "float | Decimal", variable has type "float")  [assignment]
core/position_manager.py:1405: error: Argument 3 to "create_market_order" of "ExchangeManager" has incompatible type "float"; expected "Decimal"  [arg-type]
core/position_manager.py:1413: error: Argument "id" to "PositionState" has incompatible type "None"; expected "int"  [arg-type]
core/position_manager.py:1417: error: Argument "quantity" to "PositionState" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1418: error: Argument "entry_price" to "PositionState" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1419: error: Argument "current_price" to "PositionState" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1501: error: Incompatible types in assignment (expression has type "float | Decimal", variable has type "float")  [assignment]
core/position_manager.py:1509: error: Incompatible types in assignment (expression has type "float | Decimal", variable has type "float")  [assignment]
core/position_manager.py:1517: error: Argument 3 to "_set_stop_loss" of "PositionManager" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1519: error: Incompatible types in assignment (expression has type "Decimal", variable has type "float | None")  [assignment]
core/position_manager.py:1542: error: Argument 2 to "update_position_stop_loss" of "Repository" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1658: error: Unsupported operand types for + ("object" and "int")  [operator]
core/position_manager.py:1702: error: Argument "id" to "PositionState" has incompatible type "str"; expected "int"  [arg-type]
core/position_manager.py:1830: error: Argument 1 to "normalize_symbol" has incompatible type "Any | None"; expected "str"  [arg-type]
core/position_manager.py:1842: error: Incompatible default for argument "exchange" (default has type "None", argument has type "str")  [assignment]
core/position_manager.py:1970: error: Unsupported operand types for * ("float" and "Decimal")  [operator]
core/position_manager.py:1994: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/position_manager.py:1996: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/position_manager.py:2017: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/position_manager.py:2025: error: Unsupported operand types for - ("float" and "Decimal")  [operator]
core/position_manager.py:2026: error: Unsupported operand types for + ("Decimal" and "float")  [operator]
core/position_manager.py:2030: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/position_manager.py:2064: error: Incompatible return value type (got "Decimal", expected "float | None")  [return-value]
core/position_manager.py:2114: error: Unsupported target for indexed assignment ("set[Any]")  [index]
core/position_manager.py:2116: error: Value of type "set[Any]" is not indexable  [index]
core/position_manager.py:2189: error: Unexpected keyword argument "close_price" for "close_position" of "PositionManager"  [call-arg]
core/position_manager.py:2189: error: Unexpected keyword argument "realized_pnl" for "close_position" of "PositionManager"  [call-arg]
core/position_manager.py:2483: error: "PositionManager" has no attribute "max_position_age_hours"; maybe "_calculate_position_age_hours"?  [attr-defined]
core/position_manager.py:2645: error: Unsupported operand types for + ("object" and "int")  [operator]
core/position_manager.py:2646: error: Unsupported operand types for + ("object" and "Decimal")  [operator]
core/position_manager.py:2649: error: Unsupported operand types for + ("object" and "int")  [operator]
core/position_manager.py:2651: error: Unsupported operand types for + ("object" and "int")  [operator]
core/position_manager.py:2848: error: Unexpected keyword argument "params" for "create_limit_order" of "ExchangeManager"  [call-arg]
core/position_manager.py:2848: error: Incompatible types in assignment (expression has type "OrderResult", variable has type "dict[Any, Any] | None")  [assignment]
core/position_manager.py:2851: error: Argument "amount" to "create_limit_order" of "ExchangeManager" has incompatible type "float"; expected "Decimal"  [arg-type]
core/position_manager.py:2852: error: Argument "price" to "create_limit_order" of "ExchangeManager" has incompatible type "float"; expected "Decimal"  [arg-type]
core/position_manager.py:3890: error: Unsupported left operand type for + ("object")  [operator]
core/position_manager.py:3891: error: Unsupported left operand type for + ("object")  [operator]
core/position_manager.py:3898: error: Argument 1 to "to_decimal" has incompatible type "object"; expected "str | int | float | Decimal"  [arg-type]
