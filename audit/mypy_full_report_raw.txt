utils/datetime_helpers.py:99: error: Incompatible types in assignment (expression has type "datetime | None", variable has type "datetime")  [assignment]
utils/datetime_helpers.py:102: error: Unsupported left operand type for - ("None")  [operator]
utils/datetime_helpers.py:102: note: Left operand is of type "datetime | None"
tools/analyze_logs.py:453: error: No overload variant of "list" matches argument type "object"  [call-overload]
tools/analyze_logs.py:453: note: Possible overload variants:
tools/analyze_logs.py:453: note:     def [_T] list(self) -> list[_T]
tools/analyze_logs.py:453: note:     def [_T] list(self, Iterable[_T], /) -> list[_T]
tools/analyze_logs.py:454: error: No overload variant of "dict" matches argument type "object"  [call-overload]
tools/analyze_logs.py:454: note: Possible overload variants:
tools/analyze_logs.py:454: note:     def [_KT, _VT] dict(self) -> dict[_KT, _VT]
tools/analyze_logs.py:454: note:     def [_KT, _VT] dict(self, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:454: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[_KT, _VT], /) -> dict[_KT, _VT]
tools/analyze_logs.py:454: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[str, _VT], /, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:454: note:     def [_KT, _VT] dict(self, Iterable[tuple[_KT, _VT]], /) -> dict[_KT, _VT]
tools/analyze_logs.py:454: note:     def [_KT, _VT] dict(self, Iterable[tuple[str, _VT]], /, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:454: note:     def [_KT, _VT] dict(self, Iterable[list[str]], /) -> dict[str, str]
tools/analyze_logs.py:454: note:     def [_KT, _VT] dict(self, Iterable[list[bytes]], /) -> dict[bytes, bytes]
tools/analyze_logs.py:455: error: No overload variant of "dict" matches argument type "object"  [call-overload]
tools/analyze_logs.py:455: note: Possible overload variants:
tools/analyze_logs.py:455: note:     def [_KT, _VT] dict(self) -> dict[_KT, _VT]
tools/analyze_logs.py:455: note:     def [_KT, _VT] dict(self, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:455: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[_KT, _VT], /) -> dict[_KT, _VT]
tools/analyze_logs.py:455: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[str, _VT], /, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:455: note:     def [_KT, _VT] dict(self, Iterable[tuple[_KT, _VT]], /) -> dict[_KT, _VT]
tools/analyze_logs.py:455: note:     def [_KT, _VT] dict(self, Iterable[tuple[str, _VT]], /, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:455: note:     def [_KT, _VT] dict(self, Iterable[list[str]], /) -> dict[str, str]
tools/analyze_logs.py:455: note:     def [_KT, _VT] dict(self, Iterable[list[bytes]], /) -> dict[bytes, bytes]
tools/analyze_logs.py:456: error: No overload variant of "dict" matches argument type "object"  [call-overload]
tools/analyze_logs.py:456: note: Possible overload variants:
tools/analyze_logs.py:456: note:     def [_KT, _VT] dict(self) -> dict[_KT, _VT]
tools/analyze_logs.py:456: note:     def [_KT, _VT] dict(self, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:456: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[_KT, _VT], /) -> dict[_KT, _VT]
tools/analyze_logs.py:456: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[str, _VT], /, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:456: note:     def [_KT, _VT] dict(self, Iterable[tuple[_KT, _VT]], /) -> dict[_KT, _VT]
tools/analyze_logs.py:456: note:     def [_KT, _VT] dict(self, Iterable[tuple[str, _VT]], /, **kwargs: _VT) -> dict[str, _VT]
tools/analyze_logs.py:456: note:     def [_KT, _VT] dict(self, Iterable[list[str]], /) -> dict[str, str]
tools/analyze_logs.py:456: note:     def [_KT, _VT] dict(self, Iterable[list[bytes]], /) -> dict[bytes, bytes]
websocket/signal_adapter.py:61: error: Argument 1 to "_determine_exchange" of "SignalAdapter" has incompatible type "Any | None"; expected "int"  [arg-type]
websocket/signal_adapter.py:199: error: Incompatible types in assignment (expression has type "float", target has type "int")  [assignment]
websocket/signal_adapter.py:202: error: Incompatible types in assignment (expression has type "float", target has type "int")  [assignment]
websocket/signal_adapter.py:205: error: Incompatible types in assignment (expression has type "float", target has type "int")  [assignment]
database/transactional_repository.py:38: error: Incompatible default for argument "name" (default has type "None", argument has type "str")  [assignment]
database/transactional_repository.py:38: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/transactional_repository.py:38: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/transactional_repository.py:193: error: Incompatible default for argument "updates" (default has type "None", argument has type "dict[str, Any]")  [assignment]
database/transactional_repository.py:193: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/transactional_repository.py:193: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/symbol_filter.py:285: error: Need type annotation for "blocked_reasons" (hint: "blocked_reasons: dict[<type>, <type>] = ...")  [var-annotated]
core/symbol_cache.py:42: error: Need type annotation for "_bad_symbol_counter"  [var-annotated]
core/order_utils.py:210: error: "object" has no attribute "append"  [attr-defined]
core/order_utils.py:214: error: "object" has no attribute "append"  [attr-defined]
core/order_utils.py:218: error: "object" has no attribute "append"  [attr-defined]
core/order_utils.py:221: error: "object" has no attribute "append"  [attr-defined]
core/order_utils.py:224: error: "object" has no attribute "append"  [attr-defined]
core/order_utils.py:227: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
core/order_utils.py:229: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
utils/validators.py:122: error: Unsupported operand types for < ("Literal['n']" and "int")  [operator]
utils/validators.py:122: error: Unsupported operand types for < ("Literal['N']" and "int")  [operator]
utils/validators.py:122: error: Unsupported operand types for < ("Literal['F']" and "int")  [operator]
utils/validators.py:122: note: Left operand is of type "Literal['n', 'N', 'F'] | int"
utils/db_type_helper.py:184: error: "Sequence[Any]" has no attribute "append"  [attr-defined]
database/repository.py:125: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:144: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:179: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:225: error: Argument 1 to "append" of "list" has incompatible type "float"; expected "int"  [arg-type]
database/repository.py:231: error: Argument 1 to "append" of "list" has incompatible type "float"; expected "int"  [arg-type]
database/repository.py:237: error: Argument 1 to "append" of "list" has incompatible type "float"; expected "int"  [arg-type]
database/repository.py:257: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:294: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:339: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:363: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:402: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:488: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:505: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:528: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:542: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:546: error: Incompatible default for argument "close_price" (default has type "None", argument has type "float")  [assignment]
database/repository.py:546: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:546: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:547: error: Incompatible default for argument "pnl" (default has type "None", argument has type "float")  [assignment]
database/repository.py:547: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:547: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:548: error: Incompatible default for argument "pnl_percentage" (default has type "None", argument has type "float")  [assignment]
database/repository.py:548: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:548: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:549: error: Incompatible default for argument "reason" (default has type "None", argument has type "str")  [assignment]
database/repository.py:549: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:549: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:550: error: Incompatible default for argument "exit_data" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
database/repository.py:550: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:550: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:588: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:612: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:641: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:657: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:668: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:680: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:744: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:759: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:787: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:844: error: Incompatible default for argument "notes" (default has type "None", argument has type "str")  [assignment]
database/repository.py:844: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:844: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:857: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:880: error: Name "create_risk_violation" already defined on line 135  [no-redef]
database/repository.py:917: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:958: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:995: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:1067: error: "None" has no attribute "execute"  [attr-defined]
database/repository.py:1124: error: "None" has no attribute "fetchrow"  [attr-defined]
database/repository.py:1150: error: "None" has no attribute "execute"  [attr-defined]
database/repository.py:1175: error: "None" has no attribute "fetch"  [attr-defined]
database/repository.py:1198: error: Incompatible default for argument "loss_tolerance" (default has type "None", argument has type "Decimal")  [assignment]
database/repository.py:1198: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1198: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1231: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:1245: error: Incompatible return value type (got "dict[Any, Any] | None", expected "dict[Any, Any]")  [return-value]
database/repository.py:1252: error: Incompatible default for argument "phases" (default has type "None", argument has type "list[str]")  [assignment]
database/repository.py:1252: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1252: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1283: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:1294: error: Incompatible default for argument "phase" (default has type "None", argument has type "str")  [assignment]
database/repository.py:1294: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1294: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1295: error: Incompatible default for argument "target_price" (default has type "None", argument has type "Decimal")  [assignment]
database/repository.py:1295: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1295: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1296: error: Incompatible default for argument "hours_aged" (default has type "None", argument has type "float")  [assignment]
database/repository.py:1296: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1296: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1297: error: Incompatible default for argument "loss_tolerance" (default has type "None", argument has type "Decimal")  [assignment]
database/repository.py:1297: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1297: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1331: error: Argument 1 to "append" of "list" has incompatible type "Decimal"; expected "str"  [arg-type]
database/repository.py:1337: error: Argument 1 to "append" of "list" has incompatible type "float"; expected "str"  [arg-type]
database/repository.py:1343: error: Argument 1 to "append" of "list" has incompatible type "Decimal"; expected "str"  [arg-type]
database/repository.py:1358: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:1375: error: Incompatible default for argument "market_price" (default has type "None", argument has type "Decimal")  [assignment]
database/repository.py:1375: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1375: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1376: error: Incompatible default for argument "target_price" (default has type "None", argument has type "Decimal")  [assignment]
database/repository.py:1376: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1376: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1377: error: Incompatible default for argument "price_distance_percent" (default has type "None", argument has type "Decimal")  [assignment]
database/repository.py:1377: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1377: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1378: error: Incompatible default for argument "action_taken" (default has type "None", argument has type "str")  [assignment]
database/repository.py:1378: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1378: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1379: error: Incompatible default for argument "success" (default has type "None", argument has type "bool")  [assignment]
database/repository.py:1379: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1379: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1380: error: Incompatible default for argument "error_message" (default has type "None", argument has type "str")  [assignment]
database/repository.py:1380: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1380: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1381: error: Incompatible default for argument "event_metadata" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
database/repository.py:1381: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1381: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1408: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:1447: error: "None" has no attribute "acquire"  [attr-defined]
database/repository.py:1462: error: Incompatible default for argument "from_date" (default has type "None", argument has type "datetime")  [assignment]
database/repository.py:1462: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1462: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1463: error: Incompatible default for argument "to_date" (default has type "None", argument has type "datetime")  [assignment]
database/repository.py:1463: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
database/repository.py:1463: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
database/repository.py:1514: error: "None" has no attribute "acquire"  [attr-defined]
utils/logger.py:12: error: Incompatible default for argument "name" (default has type "None", argument has type "str")  [assignment]
utils/logger.py:12: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
utils/logger.py:12: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
utils/log_rotation.py:153: error: Need type annotation for "stats"  [var-annotated]
utils/log_rotation.py:164: error: No overload variant of "__add__" of "list" matches argument type "int"  [operator]
utils/log_rotation.py:164: note: Possible overload variants:
utils/log_rotation.py:164: note:     def __add__(self, list[Any], /) -> list[Any]
utils/log_rotation.py:164: note:     def [_S] __add__(self, list[_S], /) -> list[_S | Any]
utils/log_rotation.py:164: error: Unsupported operand types for + ("None" and "int")  [operator]
utils/log_rotation.py:164: note: Left operand is of type "list[Any] | int | None"
utils/log_rotation.py:165: error: No overload variant of "__add__" of "list" matches argument type "int"  [operator]
utils/log_rotation.py:165: note: Possible overload variants:
utils/log_rotation.py:165: note:     def __add__(self, list[Any], /) -> list[Any]
utils/log_rotation.py:165: note:     def [_S] __add__(self, list[_S], /) -> list[_S | Any]
utils/log_rotation.py:165: error: Unsupported operand types for + ("None" and "int")  [operator]
utils/log_rotation.py:165: note: Left operand is of type "list[Any] | int | None"
utils/log_rotation.py:166: error: Item "int" of "list[Any] | int | None" has no attribute "append"  [union-attr]
utils/log_rotation.py:166: error: Item "None" of "list[Any] | int | None" has no attribute "append"  [union-attr]
utils/log_rotation.py:172: error: Unsupported operand types for > ("int" and "list[Any]")  [operator]
utils/log_rotation.py:172: error: Unsupported operand types for > ("int" and "None")  [operator]
utils/log_rotation.py:172: note: Right operand is of type "list[Any] | int | None"
utils/log_rotation.py:174: error: Incompatible types in assignment (expression has type "str", target has type "list[Any] | int | None")  [assignment]
utils/log_rotation.py:176: error: Incompatible types in assignment (expression has type "float", target has type "list[Any] | int | None")  [assignment]
utils/log_rotation.py:176: error: Unsupported operand types for / ("list[Any]" and "int")  [operator]
utils/log_rotation.py:176: error: Unsupported operand types for / ("None" and "int")  [operator]
utils/log_rotation.py:176: note: Left operand is of type "list[Any] | int | None"
utils/crypto_manager.py:48: error: Incompatible types in assignment (expression has type "None", variable has type "bytes")  [assignment]
utils/rate_limiter.py:68: error: Need type annotation for "minute_requests"  [var-annotated]
utils/decorators.py:80: error: "Callable[..., Any]" has no attribute "_call_times"  [attr-defined]
utils/decorators.py:81: error: "Callable[..., Any]" has no attribute "_lock"  [attr-defined]
utils/decorators.py:157: error: "Callable[..., Any]" has no attribute "_cache"  [attr-defined]
utils/decorators.py:158: error: "Callable[..., Any]" has no attribute "_cache_time"  [attr-defined]
tools/reproduce_duplicate_error.py:74: error: Need type annotation for "attempts" (hint: "attempts: list[<type>] = ...")  [var-annotated]
tools/reproduce_duplicate_error.py:77: error: Need type annotation for "errors" (hint: "errors: list[<type>] = ...")  [var-annotated]
tools/reproduce_duplicate_error.py:134: error: Need type annotation for "result"  [var-annotated]
tools/reproduce_duplicate_error.py:148: error: "None" has no attribute "acquire"  [attr-defined]
tools/reproduce_duplicate_error.py:153: error: Unsupported target for indexed assignment ("dict[Any, Any] | int | None")  [index]
tools/reproduce_duplicate_error.py:161: error: Unsupported target for indexed assignment ("dict[Any, Any] | int | None")  [index]
tools/reproduce_duplicate_error.py:193: error: Unsupported target for indexed assignment ("dict[Any, Any] | int | None")  [index]
tools/reproduce_duplicate_error.py:198: error: Unsupported target for indexed assignment ("dict[Any, Any] | int | None")  [index]
tools/reproduce_duplicate_error.py:204: error: Incompatible types in assignment (expression has type "str", target has type "dict[Any, Any] | int | None")  [assignment]
tools/reproduce_duplicate_error.py:205: error: Incompatible types in assignment (expression has type "str", target has type "dict[Any, Any] | int | None")  [assignment]
tools/reproduce_duplicate_error.py:210: error: Incompatible types in assignment (expression has type "str", target has type "dict[Any, Any] | int | None")  [assignment]
tools/reproduce_duplicate_error.py:211: error: Incompatible types in assignment (expression has type "str", target has type "dict[Any, Any] | int | None")  [assignment]
tools/reproduce_duplicate_error.py:214: error: Unsupported target for indexed assignment ("dict[Any, Any] | int | None")  [index]
tools/reproduce_duplicate_error.py:229: error: "None" has no attribute "acquire"  [attr-defined]
tools/reproduce_duplicate_error.py:549: error: "None" has no attribute "acquire"  [attr-defined]
tools/cleanup_positions.py:94: error: Need type annotation for "errors" (hint: "errors: list[<type>] = ...")  [var-annotated]
websocket/unified_price_monitor.py:128: error: Incompatible default for argument "symbols_to_check" (default has type "None", argument has type "list[Any]")  [assignment]
websocket/unified_price_monitor.py:128: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
websocket/unified_price_monitor.py:128: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
websocket/unified_price_monitor.py:129: error: Incompatible default for argument "module" (default has type "None", argument has type "str")  [assignment]
websocket/unified_price_monitor.py:129: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
websocket/unified_price_monitor.py:129: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
websocket/event_router.py:16: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
websocket/event_router.py:17: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
websocket/event_router.py:77: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
websocket/event_router.py:77: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
websocket/event_router.py:77: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
websocket/event_router.py:89: error: Argument "source" to "Event" has incompatible type "Any | None"; expected "str"  [arg-type]
core/shutdown_manager.py:99: error: Incompatible types in assignment (expression has type "datetime", variable has type "None")  [assignment]
core/shutdown_manager.py:128: error: No overload variant of "__sub__" of "datetime" matches argument type "None"  [operator]
core/shutdown_manager.py:128: note: Possible overload variants:
core/shutdown_manager.py:128: note:     def __sub__(self, datetime, /) -> timedelta
core/shutdown_manager.py:128: note:     def __sub__(self, timedelta, /) -> datetime
core/protection_adapters.py:172: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
core/position_locks_fix.py:18: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
core/order_executor.py:370: error: Incompatible types in assignment (expression has type "str", target has type "bool")  [assignment]
core/order_executor.py:496: error: Incompatible types in assignment (expression has type "str", target has type "bool")  [assignment]
core/order_executor.py:498: error: Incompatible types in assignment (expression has type "str", target has type "bool")  [assignment]
core/lock_manager.py:41: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
core/lock_manager.py:42: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
core/lock_manager.py:44: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
core/exchange_manager_enhanced.py:62: error: Need type annotation for "_order_cache" (hint: "_order_cache: dict[<type>, <type>] = ...")  [var-annotated]
core/exchange_manager_enhanced.py:63: error: Need type annotation for "_cache_timestamp" (hint: "_cache_timestamp: dict[<type>, <type>] = ...")  [var-annotated]
core/exchange_manager_enhanced.py:67: error: Need type annotation for "_pending_operations" (hint: "_pending_operations: set[<type>] = ...")  [var-annotated]
core/exchange_manager_enhanced.py:82: error: Missing return statement  [return]
core/exchange_manager_enhanced.py:473: error: Unsupported operand types for < ("int" and "None")  [operator]
core/exchange_manager_enhanced.py:473: note: Left operand is of type "float | None"
core/exchange_manager_enhanced.py:475: error: Unsupported operand types for > ("float" and "None")  [operator]
core/exchange_manager_enhanced.py:475: note: Left operand is of type "float | None"
core/exchange_manager_enhanced.py:480: error: Argument 3 to "create_limit_exit_order" of "EnhancedExchangeManager" has incompatible type "float | None"; expected "float"  [arg-type]
core/event_logger.py:183: error: Need type annotation for "_event_queue"  [var-annotated]
core/bybit_zombie_cleaner.py:275: error: "object" has no attribute "append"  [attr-defined]
core/bybit_zombie_cleaner.py:397: error: "object" has no attribute "append"  [attr-defined]
core/bybit_zombie_cleaner.py:458: error: Unsupported operand types for + ("object" and "int")  [operator]
core/bybit_zombie_cleaner.py:472: error: Unsupported operand types for + ("object" and "int")  [operator]
core/bybit_zombie_cleaner.py:481: error: Unsupported operand types for + ("object" and "int")  [operator]
core/bybit_zombie_cleaner.py:500: error: "object" has no attribute "append"  [attr-defined]
core/binance_zombie_manager.py:184: error: Incompatible default for argument "symbol" (default has type "None", argument has type "str")  [assignment]
core/binance_zombie_manager.py:184: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/binance_zombie_manager.py:184: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/binance_zombie_manager.py:221: error: Incompatible default for argument "symbol" (default has type "None", argument has type "str")  [assignment]
core/binance_zombie_manager.py:221: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/binance_zombie_manager.py:221: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/binance_zombie_manager.py:312: error: Need type annotation for "zombies"  [var-annotated]
core/binance_zombie_manager.py:686: error: Unsupported operand types for + ("object" and "int")  [operator]
core/binance_zombie_manager.py:688: error: Unsupported operand types for + ("object" and "int")  [operator]
core/binance_zombie_manager.py:703: error: Unsupported operand types for + ("object" and "int")  [operator]
core/binance_zombie_manager.py:706: error: Unsupported operand types for + ("object" and "int")  [operator]
core/binance_zombie_manager.py:713: error: Unsupported operand types for < ("int" and "object")  [operator]
core/binance_zombie_manager.py:720: error: "object" has no attribute "append"  [attr-defined]
core/binance_zombie_manager.py:820: error: Name "get_metrics" already defined on line 171  [no-redef]
core/binance_zombie_manager.py:925: error: Argument "symbols" to "cleanup_zombie_orders_enhanced" of "BinanceZombieIntegration" has incompatible type "None"; expected "list[str]"  [arg-type]
core/binance_zombie_manager.py:987: error: Incompatible default for argument "symbols" (default has type "None", argument has type "list[str]")  [assignment]
core/binance_zombie_manager.py:987: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/binance_zombie_manager.py:987: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/binance_zombie_cleaner.py:268: error: Need type annotation for "zombies_by_symbol" (hint: "zombies_by_symbol: dict[<type>, <type>] = ...")  [var-annotated]
protection/trailing_stop.py:111: error: Incompatible default for argument "config" (default has type "None", argument has type "TrailingStopConfig")  [assignment]
protection/trailing_stop.py:111: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
protection/trailing_stop.py:111: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
protection/trailing_stop.py:111: error: Incompatible default for argument "exchange_name" (default has type "None", argument has type "str")  [assignment]
protection/trailing_stop.py:133: error: Need type annotation for "sl_update_locks" (hint: "sl_update_locks: dict[<type>, <type>] = ...")  [var-annotated]
protection/trailing_stop.py:602: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/trailing_stop.py:710: error: Unsupported operand types for >= ("Decimal" and "None")  [operator]
protection/trailing_stop.py:710: note: Right operand is of type "Decimal | None"
protection/trailing_stop.py:712: error: Unsupported operand types for <= ("Decimal" and "None")  [operator]
protection/trailing_stop.py:712: note: Right operand is of type "Decimal | None"
protection/trailing_stop.py:732: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/trailing_stop.py:801: error: Unsupported operand types for > ("Decimal" and "None")  [operator]
protection/trailing_stop.py:801: note: Right operand is of type "Decimal | None"
protection/trailing_stop.py:813: error: Unsupported operand types for < ("Decimal" and "None")  [operator]
protection/trailing_stop.py:813: note: Right operand is of type "Decimal | None"
protection/trailing_stop.py:825: error: Argument 3 to "_should_update_stop_loss" of "SmartTrailingStopManager" has incompatible type "Decimal | None"; expected "Decimal"  [arg-type]
protection/trailing_stop.py:847: error: Argument 1 to "float" has incompatible type "Decimal | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
protection/trailing_stop.py:896: error: Argument 1 to "float" has incompatible type "Decimal | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
protection/trailing_stop.py:911: error: Unsupported operand types for / ("Decimal" and "None")  [operator]
protection/trailing_stop.py:911: note: Right operand is of type "Decimal | None"
protection/trailing_stop.py:911: error: Unsupported operand types for - ("Decimal" and "None")  [operator]
protection/trailing_stop.py:931: error: Argument 1 to "float" has incompatible type "Decimal | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
protection/trailing_stop.py:950: error: Argument 1 to "float" has incompatible type "Decimal | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
protection/trailing_stop.py:975: error: Unsupported operand types for / ("Decimal" and "float")  [operator]
protection/trailing_stop.py:1015: error: Argument 1 to "float" has incompatible type "Decimal | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
protection/trailing_stop.py:1289: error: Unsupported operand types for > ("Decimal" and "None")  [operator]
protection/trailing_stop.py:1289: note: Left operand is of type "Decimal | None"
protection/trailing_stop.py:1299: error: Unsupported operand types for < ("Decimal" and "None")  [operator]
protection/trailing_stop.py:1299: note: Left operand is of type "Decimal | None"
protection/trailing_stop.py:1331: error: Argument 1 to "float" has incompatible type "Decimal | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
protection/trailing_stop.py:1359: error: Argument 1 to "float" has incompatible type "Decimal | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
protection/trailing_stop.py:1373: error: Argument 1 to "float" has incompatible type "Decimal | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
protection/trailing_stop.py:1447: error: Incompatible default for argument "realized_pnl" (default has type "None", argument has type "float")  [assignment]
protection/trailing_stop.py:1447: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
protection/trailing_stop.py:1447: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
protection/trailing_stop.py:1467: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/trailing_stop.py:1476: error: Unsupported operand types for * ("object" and "int")  [operator]
protection/trailing_stop.py:1476: error: Unsupported operand types for - ("object" and "int")  [operator]
protection/trailing_stop.py:1476: error: Unsupported operand types for / ("float" and "object")  [operator]
protection/trailing_stop.py:1479: error: Unsupported operand types for > ("float" and "object")  [operator]
protection/trailing_stop.py:1528: error: Function "builtins.any" is not valid as a type  [valid-type]
protection/trailing_stop.py:1528: note: Perhaps you meant "typing.Any" instead of "any"?
protection/trailing_stop.py:1559: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/trailing_stop.py:1583: error: "object" has no attribute "append"  [attr-defined]
protection/trailing_stop.py:1602: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/trailing_stop.py:1603: error: "object" has no attribute "append"  [attr-defined]
protection/trailing_stop.py:1613: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/trailing_stop.py:1644: error: Argument "realized_pnl" to "on_position_closed" of "SmartTrailingStopManager" has incompatible type "None"; expected "float"  [arg-type]
protection/trailing_stop.py:1646: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/trailing_stop.py:1647: error: "object" has no attribute "append"  [attr-defined]
protection/trailing_stop.py:1661: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/trailing_stop.py:1662: error: "object" has no attribute "append"  [attr-defined]
protection/trailing_stop.py:1681: error: "type[EventType]" has no attribute "HEALTH_CHECK_COMPLETED"  [attr-defined]
protection/trailing_stop.py:1699: error: Incompatible default for argument "symbol" (default has type "None", argument has type "str")  [assignment]
protection/trailing_stop.py:1699: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
protection/trailing_stop.py:1699: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
protection/trailing_stop.py:1714: error: Incompatible return value type (got "None", expected "dict[Any, Any]")  [return-value]
core/zombie_manager.py:427: error: Unsupported operand types for + ("object" and "int")  [operator]
core/zombie_manager.py:430: error: Unsupported operand types for + ("object" and "int")  [operator]
core/zombie_manager.py:438: error: Unsupported operand types for + ("object" and "int")  [operator]
core/zombie_manager.py:441: error: Unsupported operand types for + ("object" and "int")  [operator]
core/zombie_manager.py:449: error: Unsupported operand types for + ("object" and "int")  [operator]
core/zombie_manager.py:496: error: "object" has no attribute "append"  [attr-defined]
core/zombie_manager.py:578: error: Need type annotation for "by_position" (hint: "by_position: dict[<type>, <type>] = ...")  [var-annotated]
core/zombie_manager.py:725: error: Incompatible types in assignment (expression has type "float", variable has type "None")  [assignment]
core/wave_signal_processor.py:78: error: Incompatible default for argument "wave_timestamp" (default has type "None", argument has type "str")  [assignment]
core/wave_signal_processor.py:78: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/wave_signal_processor.py:78: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/position_synchronizer.py:137: error: Need type annotation for "result"  [var-annotated]
core/position_synchronizer.py:263: error: Incompatible types in assignment (expression has type "str", target has type "list[Any]")  [assignment]
core/aged_position_manager.py:158: error: Missing return statement  [return]
core/aged_position_manager.py:195: error: Incompatible types in assignment (expression has type "int", target has type "bool")  [assignment]
core/aged_position_manager.py:437: error: Incompatible return value type (got "tuple[str, Decimal, Decimal, str]", expected "tuple[str, float, float, str]")  [return-value]
core/aged_position_manager.py:494: error: Incompatible return value type (got "tuple[str, Any, Decimal, str]", expected "tuple[str, float, float, str]")  [return-value]
core/aged_position_manager.py:517: error: Incompatible return value type (got "tuple[str, Any, Decimal, str]", expected "tuple[str, float, float, str]")  [return-value]
core/aged_position_manager.py:618: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
core/aged_position_manager.py:619: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
core/aged_position_manager.py:620: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
core/aged_position_manager.py:622: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
websocket/signal_client.py:85: error: Incompatible types in assignment (expression has type "WebSocketClientProtocol", variable has type "None")  [assignment]
websocket/signal_client.py:92: error: Incompatible types in assignment (expression has type "datetime", target has type "int | None")  [assignment]
websocket/signal_client.py:123: error: "None" has no attribute "recv"  [attr-defined]
websocket/signal_client.py:127: error: Unsupported operand types for + ("None" and "int")  [operator]
websocket/signal_client.py:127: note: Left operand is of type "int | None"
websocket/signal_client.py:134: error: "None" has no attribute "send"  [attr-defined]
websocket/signal_client.py:141: error: "None" has no attribute "recv"  [attr-defined]
websocket/signal_client.py:146: error: Unsupported operand types for + ("None" and "int")  [operator]
websocket/signal_client.py:146: note: Left operand is of type "int | None"
websocket/signal_client.py:208: error: Incompatible types in assignment (expression has type "datetime", target has type "int | None")  [assignment]
websocket/signal_client.py:340: error: "None" has no attribute "send"  [attr-defined]
websocket/public_price_stream.py:20: error: Need type annotation for "prices" (hint: "prices: dict[<type>, <type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:38: error: Need type annotation for "positions" (hint: "positions: dict[<type>, <type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:39: error: Need type annotation for "orders" (hint: "orders: dict[<type>, <type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:40: error: Need type annotation for "prices" (hint: "prices: dict[<type>, <type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:41: error: Need type annotation for "account_info" (hint: "account_info: dict[<type>, <type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:44: error: Need type annotation for "active_symbols" (hint: "active_symbols: set[<type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:74: error: Incompatible types in assignment (expression has type "Callable[..., Any]", target has type "None")  [assignment]
websocket/adaptive_stream.py:459: error: Need type annotation for "positions" (hint: "positions: dict[<type>, <type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:460: error: Need type annotation for "orders" (hint: "orders: dict[<type>, <type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:463: error: Need type annotation for "active_symbols" (hint: "active_symbols: set[<type>] = ...")  [var-annotated]
websocket/adaptive_stream.py:476: error: Incompatible types in assignment (expression has type "Callable[..., Any]", target has type "None")  [assignment]
monitoring/health_check.py:564: error: "None" has no attribute "fetchrow"  [attr-defined]
websocket/improved_stream.py:444: error: Incompatible default for argument "max_size" (default has type "None", argument has type "int")  [assignment]
websocket/improved_stream.py:444: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
websocket/improved_stream.py:444: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
websocket/improved_stream.py:466: error: No overload variant of "__sub__" of "datetime" matches argument type "int"  [operator]
websocket/improved_stream.py:466: note: Possible overload variants:
websocket/improved_stream.py:466: note:     def __sub__(self, datetime, /) -> timedelta
websocket/improved_stream.py:466: note:     def __sub__(self, timedelta, /) -> datetime
websocket/improved_stream.py:468: error: "int" has no attribute "total_seconds"  [attr-defined]
websocket/improved_stream.py:473: error: Incompatible types in assignment (expression has type "str", target has type "int | None")  [assignment]
websocket/bybit_hybrid_stream.py:88: error: Need type annotation for "subscription_queue"  [var-annotated]
websocket/binance_hybrid_stream.py:86: error: Need type annotation for "subscription_queue"  [var-annotated]
websocket/binance_hybrid_stream.py:709: error: "None" has no attribute "send_str"  [attr-defined]
websocket/binance_hybrid_stream.py:761: error: "None" has no attribute "send_str"  [attr-defined]
websocket/binance_hybrid_stream.py:809: error: Value of type "None" is not indexable  [index]
database/models.py:36: error: Variable "database.models.Base" is not valid as a type  [valid-type]
database/models.py:36: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
database/models.py:36: error: Invalid base class "Base"  [misc]
database/models.py:58: error: Need type annotation for "status"  [var-annotated]
database/models.py:71: error: Variable "database.models.Base" is not valid as a type  [valid-type]
database/models.py:71: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
database/models.py:71: error: Invalid base class "Base"  [misc]
database/models.py:95: error: Variable "database.models.Base" is not valid as a type  [valid-type]
database/models.py:95: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
database/models.py:95: error: Invalid base class "Base"  [misc]
database/models.py:133: error: Need type annotation for "status"  [var-annotated]
database/models.py:155: error: Incompatible types in assignment (expression has type "tuple[Index, Index, dict[str, str]]", variable has type "dict[str, str]")  [assignment]
database/models.py:165: error: Variable "database.models.Base" is not valid as a type  [valid-type]
database/models.py:165: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
database/models.py:165: error: Invalid base class "Base"  [misc]
database/models.py:184: error: Variable "database.models.Base" is not valid as a type  [valid-type]
database/models.py:184: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
database/models.py:184: error: Invalid base class "Base"  [misc]
database/models.py:197: error: Variable "database.models.Base" is not valid as a type  [valid-type]
database/models.py:197: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
database/models.py:197: error: Invalid base class "Base"  [misc]
database/models.py:212: error: Variable "database.models.Base" is not valid as a type  [valid-type]
database/models.py:212: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
database/models.py:212: error: Invalid base class "Base"  [misc]
core/aged_position_events.py:58: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
core/aged_position_events.py:59: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
core/aged_position_events.py:60: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
monitoring/performance.py:185: error: Value of type variable "SupportsRichComparisonT" of "max" cannot be "Column[float] | int"  [type-var]
monitoring/performance.py:186: error: Value of type variable "SupportsRichComparisonT" of "min" cannot be "Column[float] | int"  [type-var]
monitoring/performance.py:242: error: Argument "avg_trade_duration" to "PerformanceMetrics" has incompatible type "ColumnElement[datetime] | timedelta"; expected "timedelta"  [arg-type]
monitoring/performance.py:339: error: Argument "key" to "sorted" has incompatible type "Callable[[Position], Column[datetime] | datetime]"; expected "Callable[[Position], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
monitoring/performance.py:339: error: Incompatible return value type (got "Column[datetime] | datetime", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
monitoring/performance.py:343: error: Incompatible types in assignment (expression has type "ColumnElement[float]", variable has type "Decimal")  [assignment]
monitoring/performance.py:344: error: Argument 1 to "append" of "list" has incompatible type "tuple[Column[datetime], Decimal]"; expected "tuple[datetime, Decimal]"  [arg-type]
monitoring/performance.py:368: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
monitoring/performance.py:501: error: Argument "position_id" to "PositionAnalysis" has incompatible type "Column[int]"; expected "str"  [arg-type]
monitoring/performance.py:502: error: Argument "symbol" to "PositionAnalysis" has incompatible type "Column[str]"; expected "str"  [arg-type]
monitoring/performance.py:503: error: Argument "side" to "PositionAnalysis" has incompatible type "Column[str]"; expected "str"  [arg-type]
monitoring/performance.py:504: error: Argument "entry_price" to "PositionAnalysis" has incompatible type "Column[float]"; expected "Decimal"  [arg-type]
monitoring/performance.py:505: error: Argument "exit_price" to "PositionAnalysis" has incompatible type "Column[float]"; expected "Decimal | None"  [arg-type]
monitoring/performance.py:506: error: Argument "size" to "PositionAnalysis" has incompatible type "Column[float]"; expected "Decimal"  [arg-type]
monitoring/performance.py:507: error: Argument "pnl" to "PositionAnalysis" has incompatible type "Column[float] | Decimal"; expected "Decimal"  [arg-type]
monitoring/performance.py:510: error: Argument "duration" to "PositionAnalysis" has incompatible type "object"; expected "timedelta"  [arg-type]
monitoring/performance.py:511: error: Argument "max_profit" to "PositionAnalysis" has incompatible type "ColumnElement[float]"; expected "Decimal"  [arg-type]
monitoring/performance.py:512: error: Argument "max_loss" to "PositionAnalysis" has incompatible type "ColumnElement[float]"; expected "Decimal"  [arg-type]
monitoring/performance.py:513: error: Argument "fees" to "PositionAnalysis" has incompatible type "Column[float] | Decimal"; expected "Decimal"  [arg-type]
monitoring/performance.py:520: error: Invalid index type "Column[int]" for "dict[str, PositionAnalysis]"; expected type "str"  [index]
monitoring/performance.py:533: error: List item 0 has incompatible type "Column[float]"; expected "Decimal"  [list-item]
monitoring/performance.py:552: error: No overload variant of "max" matches argument types "Decimal", "ColumnElement[float]"  [call-overload]
monitoring/performance.py:552: note: Possible overload variants:
monitoring/performance.py:552: note:     def [SupportsRichComparisonT] max(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
monitoring/performance.py:552: note:     def [_T] max(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
monitoring/performance.py:552: note:     def [SupportsRichComparisonT] max(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
monitoring/performance.py:552: note:     def [_T] max(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
monitoring/performance.py:552: note:     def [SupportsRichComparisonT, _T] max(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
monitoring/performance.py:552: note:     def [_T1, _T2] max(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
monitoring/performance.py:595: error: Incompatible types in assignment (expression has type "ColumnElement[float]", variable has type "Decimal")  [assignment]
websocket/bybit_stream.py:282: error: Argument 2 to "_process_orderbook" of "BybitMarketStream" has incompatible type "Any | None"; expected "dict[Any, Any]"  [arg-type]
websocket/bybit_stream.py:284: error: Argument 2 to "_process_trades" of "BybitMarketStream" has incompatible type "Any | None"; expected "list[Any]"  [arg-type]
websocket/bybit_stream.py:286: error: Argument 2 to "_process_ticker" of "BybitMarketStream" has incompatible type "Any | None"; expected "dict[Any, Any]"  [arg-type]
websocket/binance_stream.py:207: error: "BaseModel" has no attribute "free"  [attr-defined]
websocket/binance_stream.py:208: error: "BaseModel" has no attribute "free"  [attr-defined]
websocket/binance_stream.py:211: error: "BaseModel" has no attribute "asset"  [attr-defined]
websocket/binance_stream.py:212: error: "BaseModel" has no attribute "free"  [attr-defined]
websocket/binance_stream.py:213: error: "BaseModel" has no attribute "free"  [attr-defined]
websocket/binance_stream.py:244: error: "BinancePrivateStream" has no attribute "positions"; maybe "get_position"?  [attr-defined]
websocket/binance_stream.py:249: error: "BinancePrivateStream" has no attribute "positions"; maybe "get_position"?  [attr-defined]
websocket/binance_stream.py:265: error: "BinancePrivateStream" has no attribute "positions"; maybe "get_position"?  [attr-defined]
websocket/binance_stream.py:267: error: "BinancePrivateStream" has no attribute "positions"; maybe "get_position"?  [attr-defined]
websocket/binance_stream.py:325: error: "BinancePrivateStream" has no attribute "open_orders"; maybe "get_open_orders"?  [attr-defined]
websocket/binance_stream.py:327: error: "BinancePrivateStream" has no attribute "open_orders"; maybe "get_open_orders"?  [attr-defined]
websocket/binance_stream.py:329: error: "BinancePrivateStream" has no attribute "open_orders"; maybe "get_open_orders"?  [attr-defined]
websocket/binance_stream.py:390: error: "BinancePrivateStream" has no attribute "positions"; maybe "get_position"?  [attr-defined]
websocket/binance_stream.py:394: error: "BinancePrivateStream" has no attribute "positions"; maybe "get_position"?  [attr-defined]
websocket/binance_stream.py:396: error: Incompatible default for argument "symbol" (default has type "None", argument has type "str")  [assignment]
websocket/binance_stream.py:396: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
websocket/binance_stream.py:396: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
websocket/binance_stream.py:399: error: "BinancePrivateStream" has no attribute "open_orders"; maybe "get_open_orders"?  [attr-defined]
websocket/binance_stream.py:400: error: "BinancePrivateStream" has no attribute "open_orders"; maybe "get_open_orders"?  [attr-defined]
core/risk_manager.py:142: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
core/risk_manager.py:151: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
core/aged_position_monitor_v2.py:21: error: Cannot assign to a type  [misc]
core/aged_position_monitor_v2.py:21: error: Incompatible types in assignment (expression has type "None", variable has type "type[AgedPositionMetrics]")  [assignment]
core/aged_position_monitor_v2.py:22: error: Cannot assign to a type  [misc]
core/aged_position_monitor_v2.py:22: error: Incompatible types in assignment (expression has type "None", variable has type "type[MetricsCollector]")  [assignment]
core/aged_position_monitor_v2.py:33: error: Cannot assign to a type  [misc]
core/aged_position_monitor_v2.py:33: error: Incompatible types in assignment (expression has type "None", variable has type "type[AgedPositionEventEmitter]")  [assignment]
core/aged_position_monitor_v2.py:34: error: Cannot assign to a type  [misc]
core/aged_position_monitor_v2.py:34: error: Incompatible types in assignment (expression has type "None", variable has type "type[AgedEventFactory]")  [assignment]
core/aged_position_monitor_v2.py:35: error: Cannot assign to a type  [misc]
core/aged_position_monitor_v2.py:35: error: Incompatible types in assignment (expression has type "None", variable has type "type[EventOrchestrator]")  [assignment]
core/aged_position_monitor_v2.py:36: error: Cannot assign to a type  [misc]
core/aged_position_monitor_v2.py:36: error: Incompatible types in assignment (expression has type "None", variable has type "type[AgedEventType]")  [assignment]
core/aged_position_monitor_v2.py:79: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
core/aged_position_monitor_v2.py:104: error: Function "AgedPositionMetrics" could always be true in boolean context  [truthy-function]
core/aged_position_monitor_v2.py:116: error: Function "AgedPositionEventEmitter" could always be true in boolean context  [truthy-function]
core/aged_position_monitor_v2.py:251: error: Module "core.event_logger" has no attribute "event_logger"; maybe "_event_logger", "get_event_logger", or "set_event_logger"?  [attr-defined]
core/aged_position_monitor_v2.py:369: error: Unsupported target for indexed assignment ("object")  [index]
core/aged_position_monitor_v2.py:369: error: "object" has no attribute "get"  [attr-defined]
core/aged_position_monitor_v2.py:372: error: No overload variant of "max" matches argument types "object", "float"  [call-overload]
core/aged_position_monitor_v2.py:372: note: Possible overload variants:
core/aged_position_monitor_v2.py:372: note:     def [SupportsRichComparisonT] max(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
core/aged_position_monitor_v2.py:372: note:     def [_T] max(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
core/aged_position_monitor_v2.py:372: note:     def [SupportsRichComparisonT] max(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
core/aged_position_monitor_v2.py:372: note:     def [_T] max(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
core/aged_position_monitor_v2.py:372: note:     def [SupportsRichComparisonT, _T] max(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
core/aged_position_monitor_v2.py:372: note:     def [_T1, _T2] max(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
core/aged_position_monitor_v2.py:707: error: No overload variant of "__sub__" of "datetime" matches argument type "None"  [operator]
core/aged_position_monitor_v2.py:707: note: Possible overload variants:
core/aged_position_monitor_v2.py:707: note:     def __sub__(self, datetime, /) -> timedelta
core/aged_position_monitor_v2.py:707: note:     def __sub__(self, timedelta, /) -> datetime
core/aged_position_monitor_v2.py:707: note: Right operand is of type "datetime | None"
core/aged_position_monitor_v2.py:1015: error: Function "AgedEventType" could always be true in boolean context  [truthy-function]
core/stop_loss_manager.py:188: error: Argument 1 to "float" has incompatible type "str | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
core/stop_loss_manager.py:214: error: Argument 1 to "float" has incompatible type "str | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
core/exchange_manager.py:137: error: Need type annotation for "markets" (hint: "markets: dict[<type>, <type>] = ...")  [var-annotated]
core/exchange_manager.py:138: error: Need type annotation for "tickers" (hint: "tickers: dict[<type>, <type>] = ...")  [var-annotated]
core/exchange_manager.py:139: error: Need type annotation for "positions" (hint: "positions: dict[<type>, <type>] = ...")  [var-annotated]
core/exchange_manager.py:140: error: Need type annotation for "_last_ticker_update" (hint: "_last_ticker_update: dict[<type>, <type>] = ...")  [var-annotated]
core/exchange_manager.py:210: error: Incompatible return value type (got "Any | None", expected "dict[Any, Any]")  [return-value]
core/exchange_manager.py:221: error: Incompatible return value type (got "None", expected "dict[Any, Any]")  [return-value]
core/exchange_manager.py:349: error: Incompatible default for argument "symbols" (default has type "None", argument has type "list[str]")  [assignment]
core/exchange_manager.py:349: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/exchange_manager.py:349: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/exchange_manager.py:349: error: Incompatible default for argument "params" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
core/exchange_manager.py:414: error: Incompatible default for argument "price" (default has type "None", argument has type "float")  [assignment]
core/exchange_manager.py:414: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/exchange_manager.py:414: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/exchange_manager.py:414: error: Incompatible default for argument "params" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
core/exchange_manager.py:468: error: Incompatible default for argument "params" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
core/exchange_manager.py:468: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/exchange_manager.py:468: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/exchange_manager.py:480: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/exchange_manager.py:640: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/exchange_manager.py:826: error: Incompatible types in assignment (expression has type "str", target has type "float | int | bool | None")  [assignment]
core/exchange_manager.py:833: error: Incompatible types in assignment (expression has type "str", target has type "float | int | bool | None")  [assignment]
core/exchange_manager.py:858: error: Incompatible types in assignment (expression has type "str", target has type "float | int | bool | None")  [assignment]
core/exchange_manager.py:903: error: Incompatible types in assignment (expression has type "str", target has type "bool | None")  [assignment]
core/exchange_manager.py:940: error: Incompatible types in assignment (expression has type "str", target has type "bool | None")  [assignment]
core/exchange_manager.py:946: error: Incompatible types in assignment (expression has type "str", target has type "bool | None")  [assignment]
core/exchange_manager.py:1006: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
core/exchange_manager.py:1050: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
core/exchange_manager.py:1062: error: Incompatible types in assignment (expression has type "str", target has type "int | bool | None")  [assignment]
core/exchange_manager.py:1063: error: Incompatible types in assignment (expression has type "str", target has type "int | bool | None")  [assignment]
core/exchange_manager.py:1082: error: Incompatible types in assignment (expression has type "float", target has type "int | bool | None")  [assignment]
core/exchange_manager.py:1083: error: Incompatible types in assignment (expression has type "float", target has type "int | bool | None")  [assignment]
core/exchange_manager.py:1096: error: Incompatible types in assignment (expression has type "str", target has type "int | bool | None")  [assignment]
core/exchange_manager.py:1113: error: Incompatible default for argument "symbol" (default has type "None", argument has type "str")  [assignment]
core/exchange_manager.py:1113: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/exchange_manager.py:1113: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/exchange_manager.py:1165: error: Incompatible default for argument "symbol" (default has type "None", argument has type "str")  [assignment]
core/exchange_manager.py:1165: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/exchange_manager.py:1165: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/exchange_manager.py:1165: error: Incompatible default for argument "params" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
core/exchange_manager.py:1202: error: Argument 1 to "normalize_symbol" has incompatible type "Any | None"; expected "str"  [arg-type]
core/exchange_manager.py:1337: error: Argument "price" to "OrderResult" has incompatible type "Any | int"; expected "Decimal"  [arg-type]
core/exchange_manager.py:1532: error: Item "None" of "str | None" has no attribute "replace"  [union-attr]
core/exchange_manager.py:1562: error: Incompatible default for argument "price" (default has type "None", argument has type "Decimal")  [assignment]
core/exchange_manager.py:1562: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/exchange_manager.py:1562: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/atomic_position_manager.py:104: error: Need type annotation for "active_operations" (hint: "active_operations: dict[<type>, <type>] = ...")  [var-annotated]
core/atomic_position_manager.py:576: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
core/atomic_position_manager.py:755: error: "dict[str, Any]" has no attribute "side"  [attr-defined]
core/atomic_position_manager.py:756: error: "dict[str, Any]" has no attribute "status"  [attr-defined]
core/atomic_position_manager.py:757: error: "dict[str, Any]" has no attribute "filled"  [attr-defined]
core/atomic_position_manager.py:757: error: "dict[str, Any]" has no attribute "amount"  [attr-defined]
core/atomic_position_manager.py:758: error: "dict[str, Any]" has no attribute "price"  [attr-defined]
core/position_manager.py:160: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
core/position_manager.py:224: error: Need type annotation for "pending_updates" (hint: "pending_updates: dict[<type>, <type>] = ...")  [var-annotated]
core/position_manager.py:250: error: Need type annotation for "positions_without_sl_time" (hint: "positions_without_sl_time: dict[<type>, <type>] = ...")  [var-annotated]
core/position_manager.py:253: error: Need type annotation for "protected_order_ids" (hint: "protected_order_ids: set[<type>] = ...")  [var-annotated]
core/position_manager.py:339: error: Argument 1 to "normalize_symbol" has incompatible type "Any | None"; expected "str"  [arg-type]
core/position_manager.py:786: error: Argument "realized_pnl" to "on_position_closed" of "SmartTrailingStopManager" has incompatible type "None"; expected "float"  [arg-type]
core/position_manager.py:821: error: Argument "stop_loss_price" to "PositionState" has incompatible type "Decimal | None"; expected "float | None"  [arg-type]
core/position_manager.py:821: error: Argument 1 to "to_decimal" has incompatible type "Any | None"; expected "str | int | float | Decimal"  [arg-type]
core/position_manager.py:856: error: Argument 3 to "_set_stop_loss" of "PositionManager" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:858: error: Incompatible types in assignment (expression has type "Decimal", variable has type "float | None")  [assignment]
core/position_manager.py:903: error: Argument "initial_stop" to "create_trailing_stop" of "SmartTrailingStopManager" has incompatible type "Decimal"; expected "float | None"  [arg-type]
core/position_manager.py:940: error: Argument 3 to "_set_stop_loss" of "PositionManager" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:942: error: Incompatible types in assignment (expression has type "Decimal", variable has type "float | None")  [assignment]
core/position_manager.py:1086: error: Argument 3 to "_calculate_position_size" of "PositionManager" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1086: error: Argument 4 to "_calculate_position_size" of "PositionManager" has incompatible type "float | Decimal"; expected "float"  [arg-type]
core/position_manager.py:1171: error: Incompatible types in assignment (expression has type "float | Decimal", variable has type "float")  [assignment]
core/position_manager.py:1179: error: Incompatible types in assignment (expression has type "float | Decimal", variable has type "float")  [assignment]
core/position_manager.py:1405: error: Argument 3 to "create_market_order" of "ExchangeManager" has incompatible type "float"; expected "Decimal"  [arg-type]
core/position_manager.py:1413: error: Argument "id" to "PositionState" has incompatible type "None"; expected "int"  [arg-type]
core/position_manager.py:1417: error: Argument "quantity" to "PositionState" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1418: error: Argument "entry_price" to "PositionState" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1419: error: Argument "current_price" to "PositionState" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1501: error: Incompatible types in assignment (expression has type "float | Decimal", variable has type "float")  [assignment]
core/position_manager.py:1509: error: Incompatible types in assignment (expression has type "float | Decimal", variable has type "float")  [assignment]
core/position_manager.py:1517: error: Argument 3 to "_set_stop_loss" of "PositionManager" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1519: error: Incompatible types in assignment (expression has type "Decimal", variable has type "float | None")  [assignment]
core/position_manager.py:1542: error: Argument 2 to "update_position_stop_loss" of "Repository" has incompatible type "Decimal"; expected "float"  [arg-type]
core/position_manager.py:1658: error: Unsupported operand types for + ("object" and "int")  [operator]
core/position_manager.py:1702: error: Argument "id" to "PositionState" has incompatible type "str"; expected "int"  [arg-type]
core/position_manager.py:1830: error: Argument 1 to "normalize_symbol" has incompatible type "Any | None"; expected "str"  [arg-type]
core/position_manager.py:1842: error: Incompatible default for argument "exchange" (default has type "None", argument has type "str")  [assignment]
core/position_manager.py:1842: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core/position_manager.py:1842: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core/position_manager.py:1970: error: Unsupported operand types for * ("float" and "Decimal")  [operator]
core/position_manager.py:1994: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/position_manager.py:1996: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/position_manager.py:2017: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/position_manager.py:2025: error: Unsupported operand types for - ("float" and "Decimal")  [operator]
core/position_manager.py:2026: error: Unsupported operand types for + ("Decimal" and "float")  [operator]
core/position_manager.py:2030: error: Incompatible types in assignment (expression has type "float", variable has type "Decimal")  [assignment]
core/position_manager.py:2064: error: Incompatible return value type (got "Decimal", expected "float | None")  [return-value]
core/position_manager.py:2114: error: Unsupported target for indexed assignment ("set[Any]")  [index]
core/position_manager.py:2116: error: Value of type "set[Any]" is not indexable  [index]
core/position_manager.py:2189: error: Unexpected keyword argument "close_price" for "close_position" of "PositionManager"  [call-arg]
core/position_manager.py:2189: error: Unexpected keyword argument "realized_pnl" for "close_position" of "PositionManager"  [call-arg]
core/position_manager.py:2483: error: "PositionManager" has no attribute "max_position_age_hours"; maybe "_calculate_position_age_hours"?  [attr-defined]
core/position_manager.py:2564: note: "close_position" of "PositionManager" defined here
core/position_manager.py:2645: error: Unsupported operand types for + ("object" and "int")  [operator]
core/position_manager.py:2646: error: Unsupported operand types for + ("object" and "Decimal")  [operator]
core/position_manager.py:2649: error: Unsupported operand types for + ("object" and "int")  [operator]
core/position_manager.py:2651: error: Unsupported operand types for + ("object" and "int")  [operator]
core/position_manager.py:2848: error: Unexpected keyword argument "params" for "create_limit_order" of "ExchangeManager"  [call-arg]
core/exchange_manager.py:501: note: "create_limit_order" of "ExchangeManager" defined here
core/position_manager.py:2848: error: Incompatible types in assignment (expression has type "OrderResult", variable has type "dict[Any, Any] | None")  [assignment]
core/position_manager.py:2851: error: Argument "amount" to "create_limit_order" of "ExchangeManager" has incompatible type "float"; expected "Decimal"  [arg-type]
core/position_manager.py:2852: error: Argument "price" to "create_limit_order" of "ExchangeManager" has incompatible type "float"; expected "Decimal"  [arg-type]
core/position_manager.py:3890: error: Unsupported left operand type for + ("object")  [operator]
core/position_manager.py:3891: error: Unsupported left operand type for + ("object")  [operator]
core/position_manager.py:3898: error: Argument 1 to "to_decimal" has incompatible type "object"; expected "str | int | float | Decimal"  [arg-type]
protection/stop_loss_manager.py:109: error: Argument 1 to "_get_default_config" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:116: error: Argument 1 to "_create_fixed_stop" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:116: error: Argument 2 to "_create_fixed_stop" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:117: error: Argument 5 to "_create_fixed_stop" of "StopLossManager" has incompatible type "Column[float]"; expected "Decimal"  [arg-type]
protection/stop_loss_manager.py:124: error: Argument 1 to "_create_partial_stops" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:124: error: Argument 2 to "_create_partial_stops" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:132: error: Argument 1 to "_create_time_stop" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:132: error: Argument 2 to "_create_time_stop" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:133: error: Argument 5 to "_create_time_stop" of "StopLossManager" has incompatible type "Column[int]"; expected "int"  [arg-type]
protection/stop_loss_manager.py:138: error: Argument 1 to "_place_stop_orders" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:141: error: Invalid index type "Column[int]" for "dict[str, list[StopLossLevel]]"; expected type "str"  [index]
protection/stop_loss_manager.py:145: error: Invalid index type "Column[int]" for "dict[str, Decimal]"; expected type "str"  [index]
protection/stop_loss_manager.py:147: error: Invalid index type "Column[int]" for "dict[str, Decimal]"; expected type "str"  [index]
protection/stop_loss_manager.py:182: error: No overload variant of "get" of "dict" matches argument types "Column[int]", "Decimal"  [call-overload]
protection/stop_loss_manager.py:182: note: Possible overload variants:
protection/stop_loss_manager.py:182: note:     def get(self, str, /) -> Decimal | None
protection/stop_loss_manager.py:182: note:     def get(self, str, Decimal, /) -> Decimal
protection/stop_loss_manager.py:182: note:     def [_T] get(self, str, _T, /) -> Decimal | _T
protection/stop_loss_manager.py:183: error: Invalid index type "Column[int]" for "dict[str, Decimal]"; expected type "str"  [index]
protection/stop_loss_manager.py:184: error: Invalid index type "Column[int]" for "dict[str, Decimal]"; expected type "str"  [index]
protection/stop_loss_manager.py:186: error: No overload variant of "get" of "dict" matches argument types "Column[int]", "Decimal"  [call-overload]
protection/stop_loss_manager.py:186: note: Possible overload variants:
protection/stop_loss_manager.py:186: note:     def get(self, str, /) -> Decimal | None
protection/stop_loss_manager.py:186: note:     def get(self, str, Decimal, /) -> Decimal
protection/stop_loss_manager.py:186: note:     def [_T] get(self, str, _T, /) -> Decimal | _T
protection/stop_loss_manager.py:187: error: Invalid index type "Column[int]" for "dict[str, Decimal]"; expected type "str"  [index]
protection/stop_loss_manager.py:188: error: Invalid index type "Column[int]" for "dict[str, Decimal]"; expected type "str"  [index]
protection/stop_loss_manager.py:197: error: Invalid index type "Column[int]" for "dict[str, list[StopLossLevel]]"; expected type "str"  [index]
protection/stop_loss_manager.py:205: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/stop_loss_manager.py:211: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/stop_loss_manager.py:215: error: "StopLossManager" has no attribute "_check_time_stop"; maybe "_create_time_stop"?  [attr-defined]
protection/stop_loss_manager.py:216: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/stop_loss_manager.py:220: error: "StopLossManager" has no attribute "_check_partial_trigger"  [attr-defined]
protection/stop_loss_manager.py:221: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/stop_loss_manager.py:333: error: Argument 1 to "_create_fixed_stop" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:333: error: Argument 2 to "_create_fixed_stop" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:342: error: Invalid index type "Column[int]" for "dict[str, list[StopLossLevel]]"; expected type "str"  [index]
protection/stop_loss_manager.py:373: error: Argument 2 to "cancel_order" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:403: error: Argument 1 to "_calculate_atr_trail" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:418: error: Argument 2 to "cancel_order" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:420: error: Argument 1 to "_round_price" of "StopLossManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/stop_loss_manager.py:532: error: "ExchangeManager" has no attribute "get_market"  [attr-defined]
protection/stop_loss_manager.py:569: error: Argument 2 to "cancel_order" of "ExchangeManager" has incompatible type "str | None"; expected "str"  [arg-type]
tools/diagnostics/check_bybit.py:6: error: Module "config.settings" has no attribute "settings"  [attr-defined]
core/signal_processor_websocket.py:550: error: Need type annotation for "grouped" (hint: "grouped: dict[<type>, <type>] = ...")  [var-annotated]
core/signal_processor_websocket.py:700: error: Cannot determine type of "binance_params"  [has-type]
core/signal_processor_websocket.py:701: error: Cannot determine type of "binance_params"  [has-type]
core/signal_processor_websocket.py:711: error: Cannot determine type of "binance_params"  [has-type]
core/signal_processor_websocket.py:713: error: Cannot determine type of "bybit_params"  [has-type]
core/signal_processor_websocket.py:714: error: Cannot determine type of "bybit_params"  [has-type]
core/signal_processor_websocket.py:724: error: Cannot determine type of "bybit_params"  [has-type]
core/signal_processor_websocket.py:934: error: Need type annotation for "successful_signals" (hint: "successful_signals: list[<type>] = ...")  [var-annotated]
core/signal_processor_websocket.py:1227: error: Argument "signal_id" to "PositionRequest" has incompatible type "Any | None"; expected "int"  [arg-type]
core/position_reconciliation.py:34: error: Function "builtins.callable" is not valid as a type  [valid-type]
core/position_reconciliation.py:34: note: Perhaps you meant "typing.Callable" instead of "callable"?
core/orphaned_position_monitor.py:34: error: Function "builtins.callable" is not valid as a type  [valid-type]
core/orphaned_position_monitor.py:34: note: Perhaps you meant "typing.Callable" instead of "callable"?
main.py:451: error: "None" has no attribute "record_error"  [attr-defined]
main.py:456: error: "None" has no attribute "record_trade"  [attr-defined]
main.py:463: error: "None" has no attribute "record_trade_close"  [attr-defined]
protection/position_guard.py:165: error: Invalid index type "Column[int]" for "dict[str, Position]"; expected type "str"  [index]
protection/position_guard.py:166: error: Invalid index type "Column[int]" for "dict[str, Decimal]"; expected type "str"  [index]
protection/position_guard.py:170: error: Invalid index type "Column[int]" for "dict[str, PositionHealth]"; expected type "str"  [index]
protection/position_guard.py:176: error: Argument 1 to "_monitor_position_loop" of "PositionGuard" has incompatible type "Column[int]"; expected "str"  [arg-type]
protection/position_guard.py:198: error: Argument 1 to "fetch_ticker" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:235: error: Argument 1 to "fetch_ticker" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:250: error: No overload variant of "get" of "dict" matches argument types "Column[int]", "Decimal"  [call-overload]
protection/position_guard.py:250: note: Possible overload variants:
protection/position_guard.py:250: note:     def get(self, str, /) -> Decimal | None
protection/position_guard.py:250: note:     def get(self, str, Decimal, /) -> Decimal
protection/position_guard.py:250: note:     def [_T] get(self, str, _T, /) -> Decimal | _T
protection/position_guard.py:259: error: Argument 1 to "_calculate_time_score" of "PositionGuard" has incompatible type "ColumnElement[datetime]"; expected "timedelta"  [arg-type]
protection/position_guard.py:262: error: Argument 1 to "_calculate_volatility_score" of "PositionGuard" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:265: error: Argument 1 to "_calculate_liquidity_score" of "PositionGuard" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:289: error: Argument 4 to "_generate_alerts" of "PositionGuard" has incompatible type "ColumnElement[datetime]"; expected "timedelta"  [arg-type]
protection/position_guard.py:292: error: Argument "position_id" to "PositionHealth" has incompatible type "Column[int]"; expected "str"  [arg-type]
protection/position_guard.py:293: error: Argument "symbol" to "PositionHealth" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:298: error: Argument "time_in_position" to "PositionHealth" has incompatible type "ColumnElement[datetime]"; expected "timedelta"  [arg-type]
protection/position_guard.py:311: error: Argument "position_id" to "PositionHealth" has incompatible type "Column[int]"; expected "str"  [arg-type]
protection/position_guard.py:312: error: Argument "symbol" to "PositionHealth" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:529: error: "SmartTrailingStopManager" has no attribute "activate_trailing_stop"; maybe "_activate_trailing_stop", "create_trailing_stop", or "_update_trailing_stop"?  [attr-defined]
protection/position_guard.py:575: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/position_guard.py:599: error: Argument 1 to "fetch_ticker" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:616: error: Argument 1 to "cancel_position_stops" of "StopLossManager" has incompatible type "Column[int]"; expected "str"  [arg-type]
protection/position_guard.py:619: error: Too many arguments for "close_position" of "ExchangeManager"  [call-arg]
protection/position_guard.py:620: error: Argument 1 to "close_position" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:627: error: Unsupported operand types for + ("object" and "int")  [operator]
protection/position_guard.py:640: error: Argument 1 to "stop_protection" of "PositionGuard" has incompatible type "Column[int]"; expected "str"  [arg-type]
protection/position_guard.py:650: error: Too many arguments for "close_position" of "ExchangeManager"  [call-arg]
protection/position_guard.py:651: error: Argument 1 to "close_position" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:668: error: Argument 1 to "stop_protection" of "PositionGuard" has incompatible type "Column[int]"; expected "str"  [arg-type]
protection/position_guard.py:679: error: Too many arguments for "close_position" of "ExchangeManager"  [call-arg]
protection/position_guard.py:680: error: Argument 1 to "close_position" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:689: error: Incompatible types in assignment (expression has type "float", variable has type "Column[float]")  [assignment]
protection/position_guard.py:702: error: Invalid index type "Column[int]" for "dict[str, Decimal]"; expected type "str"  [index]
protection/position_guard.py:713: error: No overload variant of "get" of "dict" matches argument type "Column[int]"  [call-overload]
protection/position_guard.py:713: note: Possible overload variants:
protection/position_guard.py:713: note:     def get(self, str, /) -> Decimal | None
protection/position_guard.py:713: note:     def get(self, str, Decimal, /) -> Decimal
protection/position_guard.py:713: note:     def [_T] get(self, str, _T, /) -> Decimal | _T
protection/position_guard.py:718: error: Unsupported operand types for * ("Decimal" and "float")  [operator]
protection/position_guard.py:733: error: Argument 1 to "add" of "set" has incompatible type "Column[int]"; expected "str"  [arg-type]
protection/position_guard.py:744: error: Argument "symbol" to "create_order" of "ExchangeManager" has incompatible type "Column[str]"; expected "str"  [arg-type]
protection/position_guard.py:822: error: Unsupported operand types for + ("object" and "int")  [operator]
